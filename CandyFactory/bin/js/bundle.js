var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */
var MainSceneControl_1 = require("./script/MainSceneControl");
var Role_1 = require("./script/Role");
var Candy_1 = require("./script/Candy");
var Enemy_1 = require("./script/Enemy");
/*
* 游戏初始化配置;
*/
var GameConfig = /** @class */ (function () {
    function GameConfig() {
    }
    GameConfig.init = function () {
        var reg = Laya.ClassUtils.regClass;
        reg("script/MainSceneControl.ts", MainSceneControl_1.default);
        reg("script/Role.ts", Role_1.default);
        reg("script/Candy.ts", Candy_1.default);
        reg("script/Enemy.ts", Enemy_1.default);
    };
    GameConfig.width = 750;
    GameConfig.height = 1334;
    GameConfig.scaleMode = "fixedwidth";
    GameConfig.screenMode = "vertical";
    GameConfig.alignV = "top";
    GameConfig.alignH = "center";
    GameConfig.startScene = "scene/MainScene.scene";
    GameConfig.sceneRoot = "";
    GameConfig.debug = false;
    GameConfig.stat = true;
    GameConfig.physicsDebug = true;
    GameConfig.exportSceneToJson = true;
    return GameConfig;
}());
exports.default = GameConfig;
GameConfig.init();
},{"./script/Candy":3,"./script/Enemy":4,"./script/MainSceneControl":5,"./script/Role":6}],2:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var GameConfig_1 = require("./GameConfig");
var Main = /** @class */ (function () {
    function Main() {
        //根据IDE设置初始化引擎		
        if (window["Laya3D"])
            Laya3D.init(GameConfig_1.default.width, GameConfig_1.default.height);
        else
            Laya.init(GameConfig_1.default.width, GameConfig_1.default.height, Laya["WebGL"]);
        Laya["Physics"] && Laya["Physics"].enable();
        Laya["DebugPanel"] && Laya["DebugPanel"].enable();
        Laya.stage.scaleMode = GameConfig_1.default.scaleMode;
        Laya.stage.screenMode = GameConfig_1.default.screenMode;
        //兼容微信不支持加载scene后缀场景
        Laya.URL.exportSceneToJson = GameConfig_1.default.exportSceneToJson;
        //打开调试面板（通过IDE设置调试模式，或者url地址增加debug=true参数，均可打开调试面板）
        if (GameConfig_1.default.debug || Laya.Utils.getQueryString("debug") == "true")
            Laya.enableDebugPanel();
        if (GameConfig_1.default.physicsDebug && Laya["PhysicsDebugDraw"])
            Laya["PhysicsDebugDraw"].enable();
        if (GameConfig_1.default.stat)
            Laya.Stat.show();
        Laya.alertGlobalError = true;
        //激活资源版本控制，version.json由IDE发布功能自动生成，如果没有也不影响后续流程
        Laya.ResourceVersion.enable("version.json", Laya.Handler.create(this, this.onVersionLoaded), Laya.ResourceVersion.FILENAME_VERSION);
    }
    Main.prototype.onVersionLoaded = function () {
        //激活大小图映射，加载小图的时候，如果发现小图在大图合集里面，则优先加载大图合集，而不是小图
        Laya.AtlasInfoManager.enable("fileconfig.json", Laya.Handler.create(this, this.onConfigLoaded));
    };
    Main.prototype.onConfigLoaded = function () {
        //加载IDE指定的场景
        GameConfig_1.default.startScene && Laya.Scene.open(GameConfig_1.default.startScene);
    };
    return Main;
}());
//激活启动类
new Main();
},{"./GameConfig":1}],3:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var MainSceneControl_1 = require("./MainSceneControl");
var Candy = /** @class */ (function (_super) {
    __extends(Candy, _super);
    function Candy() {
        return _super.call(this) || this;
    }
    Candy.prototype.onEnable = function () {
        this.initProperty();
    };
    /**初始化*/
    Candy.prototype.initProperty = function () {
        this.self = this.owner;
        this.selfScene = this.self.scene;
        this.mainSceneControl = this.selfScene.getComponent(MainSceneControl_1.default); //场景脚本组件
        this.roleParent = this.mainSceneControl.roleParent;
        this.friend = this.mainSceneControl.friend;
        this.friHealth = this.friend.getChildByName('health');
        this.candytagRole = null;
        this.nameArr = this.mainSceneControl.nameArr;
        this.scoreLabel = this.mainSceneControl.scoreLabel;
        this.rig = this.self.getComponent(Laya.RigidBody);
        this.rig.linearVelocity = { x: 0, y: 0.1 }; //此处y值必须不等于0才能正常检测碰撞，并不知道为何
        this.speed = 6;
        this.induction = this.mainSceneControl.induction;
    };
    Candy.prototype.onTriggerEnter = function (other, self, contact) {
        // 和糖果碰撞的物体名称
        var otherName = other.owner.name;
        // 糖果类型名称
        var name = self.owner.name;
        var candyType = name.substring(0, 11);
        // 初次碰撞把唯一的名称放进数组
        if (otherName === 'induction') {
            this.nameArr.push(name);
        }
        else if (otherName === 'yellowRole' || otherName === 'redRole') {
            this.self.removeSelf();
            // 防止报错
            if (this.candytagRole === null) {
                return;
            }
            // 加血糖果,如果满血则加1000分
            if (candyType === 'addBlood___') {
                var tagHealth = this.candytagRole.getChildByName('health');
                if (tagHealth.value >= 1) {
                    this.scoreLabel.text = (Number(this.scoreLabel.text) + 1000).toString();
                }
                else {
                    tagHealth.value += 0.2;
                    if (tagHealth.value >= 1) {
                        tagHealth.value = 1;
                    }
                }
                return;
            }
            // 黑色糖果也出现一个敌人,这个敌人如果是左边，就直接攻击主角，如果在右边优先攻击助手
            // 但是要判断当前点击的主角是哪边,只有右边才能攻击friend
            if (candyType === 'blackCandy_') {
                this.enemyTarget();
                return;
            }
            // 普通糖果无任何特殊事件
            var pairName = candyType + otherName;
            var matching_01 = 'yellowCandy' + 'yellowRole';
            var matching_02 = 'redCandy___' + 'redRole';
            if (pairName === matching_01 || pairName === matching_02) {
                this.scoreLabel.text = (Number(this.scoreLabel.text) + 100).toString();
                // 复活，还剩一个主角的时候才有复活选项
                if (this.roleParent._children.length === 1) {
                    this.mainSceneControl.rescueNum++;
                }
            }
            else {
                this.enemyTarget();
            }
        }
    };
    /**
     * 给予敌人攻击目标确定规则
     * 如果点击的是左边的主角，那么直接去左边
     * 如果点击的是右边的主角，那么先判断助手死了没有
     * */
    Candy.prototype.enemyTarget = function () {
        this.mainSceneControl.enemyAppear = true;
        if (this.candytagRole.name === 'role_01') {
            this.mainSceneControl.enemytagRole = this.candytagRole;
        }
        else if (this.candytagRole.name === 'role_02') {
            // 助手死亡则寻找右边目标，右边目标必定没死，否则游戏结束了
            if (this.friHealth.value >= 0) {
                var mainSceneControl = this.selfScene.getComponent(MainSceneControl_1.default); //场景脚本组件
                this.mainSceneControl.enemyAppear = true;
                this.mainSceneControl.enemytagRole = this.mainSceneControl.friend;
            }
            else {
                // 目标不变
            }
        }
    };
    Candy.prototype.onTriggerStay = function (other, self, contact) {
    };
    // 和感应区碰撞结束之后，如果没有被吃，那么也会出现一个敌人
    // 消失规则是如果没有目标对象的时候就会被删掉
    // 如果没有目标对象，那么会直接消失，有的话移动到目标对象
    // 如果没有目标对象并且还是黑色糖果，那么他的移动目标是助手friend，
    // 并且助手friend不会掉血也不会出现怪物
    Candy.prototype.onTriggerExit = function (other, self, contact) {
        // 碰撞结束删掉名称
        var otherName = other.owner.name;
        if (otherName === 'induction') {
            for (var i = 0; i < this.nameArr.length; i++) {
                if (this.nameArr[i] === self.owner.name) {
                    this.nameArr.splice(i, 1);
                }
            }
        }
        // 没有目标对象
        if (this.candytagRole === null) {
            // 糖果类型名称
            var name_1 = self.owner.name;
            var candyType = name_1.substring(0, 11);
            if (candyType === 'blackCandy_') {
                this.candytagRole = this.mainSceneControl.friend;
            }
            else {
                this.self.removeSelf();
                // this.mainSceneControl.tagRole =this.mainSceneControl.friend;
            }
        }
    };
    Candy.prototype.onUpdate = function () {
        // 主角全部死亡时停止移动
        if (this.roleParent._children.length === 0) {
            this.rig.linearVelocity = { x: 0, y: 0 };
            return;
        }
        // 超出范围消失
        if (this.self.y > Laya.stage.height + 100 || this.self.y < 0 - 100 || this.self.x > 750 + this.self.width + 50 || this.self.x < -this.self.width) {
            this.self.removeSelf();
        }
        // 判断去向
        if (this.candytagRole === null) {
            this.self.y += this.speed;
        }
        else {
            // 如果this.targetRole从父节点移除了，那么糖果直接下落
            if (this.candytagRole.parent === null) {
                this.self.y += 3;
            }
            else {
                // //  如果是黑色糖果碰到助手friend，那么会被助手吃掉
                if (Math.abs(this.mainSceneControl.friend.x - this.self.x) > 10 && Math.abs(this.mainSceneControl.friend.y - this.self.y) > 10) {
                    this.self.removeSelf();
                }
                // x,y分别相减是两点连线向量
                var point = new Laya.Point(this.candytagRole.x - this.self.x, this.candytagRole.y - this.self.y);
                // 归一化，向量长度为1。
                point.normalize();
                //向量相加
                this.self.x += point.x * this.speed * 15 / 8;
                this.self.y += point.y * this.speed * 15 / 8;
            }
        }
    };
    Candy.prototype.onDisable = function () {
        if (this.self.name === 'yellowCandy') {
            Laya.Pool.recover('yellowCandy', this.self);
        }
        else if (this.self.name === 'redCandy___') {
            Laya.Pool.recover('redCandy___', this.self);
        }
    };
    return Candy;
}(Laya.Script));
exports.default = Candy;
},{"./MainSceneControl":5}],4:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var MainSceneControl_1 = require("./MainSceneControl");
var Enemy = /** @class */ (function (_super) {
    __extends(Enemy, _super);
    function Enemy() {
        return _super.call(this) || this;
    }
    Enemy.prototype.onEnable = function () {
        this.initProperty();
    };
    /**初始化*/
    Enemy.prototype.initProperty = function () {
        this.self = this.owner;
        this.selfHealth = this.self.getChildByName('health');
        this.selfHealth.value = 1;
        this.slefSpeed = 5;
        this.selfScene = this.owner.scene;
        this.mainSceneControl = this.selfScene.getComponent(MainSceneControl_1.default); //场景脚本组件
        this.roleParent = this.mainSceneControl.roleParent;
        this.tagRole = this.mainSceneControl.tagRole;
        this.tagHealth = this.tagRole.getChildByName('health');
        this.attackTnterval = 100;
        this.recordTime = Date.now();
        this.speakBox = this.mainSceneControl.speakBox;
        this.scoreLabel = this.mainSceneControl.scoreLabel;
        this.bucketClink();
    };
    /**敌人点击事件*/
    Enemy.prototype.bucketClink = function () {
        this.self.on(Laya.Event.MOUSE_DOWN, this, this.down);
        this.self.on(Laya.Event.MOUSE_MOVE, this, this.move);
        this.self.on(Laya.Event.MOUSE_UP, this, this.up);
        this.self.on(Laya.Event.MOUSE_OUT, this, this.out);
    };
    /**点击敌人，敌人头上会出现小锤子，敲打敌人，每点击一次血量会减少;
     * 如果不把敌人打死，那么主角就会被攻击
     * 当然吃到的糖果也会有另外的增益
     * 杀敌暂时不增加分数分数增加*/
    Enemy.prototype.down = function (event) {
        // 主角全部死亡时停止移动
        if (this.roleParent._children.length === 0) {
            return;
        }
        else {
            this.self.scale(0.95, 0.95);
            this.selfHealth.value -= 0.2;
        }
    };
    /**移动*/
    Enemy.prototype.move = function (event) {
    };
    /**抬起*/
    Enemy.prototype.up = function (event) {
        this.self.scale(1, 1);
    };
    /**出屏幕*/
    Enemy.prototype.out = function (event) {
        this.self.scale(1, 1);
    };
    /** 敌人移动规则*/
    Enemy.prototype.enemyMove = function () {
        // x,y分别相减是两点连线向量
        // 向量计算并且归一化，向量长度为1。
        var point = new Laya.Point(this.tagRole.x - this.self.x, this.tagRole.y - this.self.y);
        point.normalize();
        if (this.tagRole.x > Laya.stage.width / 2) {
            if (this.self.x - this.tagRole.x < 100) {
                //向量相加
                this.self.x += point.x * this.slefSpeed;
                this.self.y += point.y * this.slefSpeed;
            }
            else {
                this.self.x -= this.slefSpeed;
            }
        }
        else if (this.tagRole.x < Laya.stage.width / 2) {
            if (this.tagRole.x - this.self.x < 100) {
                //向量相加
                this.self.x += point.x * this.slefSpeed;
                this.self.y += point.y * this.slefSpeed;
            }
            else {
                this.self.x += this.slefSpeed;
            }
        }
    };
    Enemy.prototype.onUpdate = function () {
        // 主角全部死亡则停止移动
        if (this.roleParent._children.length === 0) {
            return;
        }
        // 血量低于0死亡,并且增加分数
        if (this.selfHealth.value <= 0) {
            this.self.removeSelf();
        }
        // 到达对象位置后开启攻击开关进行攻击，攻击速度依照时间间隔而定
        var differenceX = Math.abs(this.self.x - this.tagRole.x);
        var differenceY = Math.abs(this.self.y - this.tagRole.y);
        if (differenceX < 100 && differenceY < 100) {
            var nowTime = Date.now();
            if (nowTime - this.recordTime > this.attackTnterval) {
                this.recordTime = nowTime;
                // 血量判断，目标死亡后，会更换目标
                if (this.tagHealth.value > 0) {
                    this.tagHealth.value -= 0.01;
                }
                else {
                    // 更换目标
                    // 判断这个目标是不是助手,如果是助手，那么右边主角一定在
                    // 否则如果两个主角都死了，游戏就结束了
                    if (this.tagRole.name === 'friend' || this.tagRole.name === 'role_01') {
                        this.tagRole = this.mainSceneControl.role_02;
                        this.tagHealth = this.mainSceneControl.role_02.getChildByName('health');
                    }
                    else if (this.tagRole.name === 'role_02') {
                        this.tagRole = this.mainSceneControl.role_01;
                        this.tagHealth = this.mainSceneControl.role_01.getChildByName('health');
                    }
                }
            }
        }
        else {
            this.enemyMove();
        }
    };
    Enemy.prototype.onDisable = function () {
        Laya.Pool.recover('enemy', this.self);
    };
    return Enemy;
}(Laya.Script));
exports.default = Enemy;
},{"./MainSceneControl":5}],5:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var MainSceneControl = /** @class */ (function (_super) {
    __extends(MainSceneControl, _super);
    function MainSceneControl() {
        return _super.call(this) || this;
    }
    MainSceneControl.prototype.onEnable = function () {
        this.initSecne();
    };
    /**场景初始化*/
    MainSceneControl.prototype.initSecne = function () {
        this.enemyAppear = false;
        this.enemytagRole = null;
        this.enemyCount = 0;
        this.candy_interval = 500;
        this.creatTime = Date.now();
        this.creatOnOff = true;
        Laya.MouseManager.multiTouchEnabled = true;
        this.nameArr = [];
        this.candyCount = 0;
        this.scoreLabel.text = '0';
        this.rescueNum = 0;
        this.protagonistInit();
        this.roelSpeakBoxs();
    };
    /**主角初始化，成对出现在两个固定位置，每次初始化后的位置可能会调换*/
    MainSceneControl.prototype.protagonistInit = function () {
        this.role_01 = this.owner.scene.role_01;
        this.role_02 = this.owner.scene.role_02;
        var pic_01 = this.role_01.getChildByName('pic');
        var pic_02 = this.role_02.getChildByName('pic');
        // 随机更换皮肤
        var imageUrl_01 = 'candy/红色桶.png';
        var imageUrl_02 = 'candy/黄色桶.png';
        var randomNum = Math.floor(Math.random() * 2);
        if (randomNum === 0) {
            pic_01.loadImage(imageUrl_01);
            pic_01.name = 'redRole';
            pic_02.loadImage(imageUrl_02);
            pic_02.name = 'yellowRole';
        }
        else {
            pic_02.loadImage(imageUrl_01);
            pic_02.name = 'redRole';
            pic_01.loadImage(imageUrl_02);
            pic_01.name = 'yellowRole';
        }
    };
    /**两个主角对话框的初始化*/
    MainSceneControl.prototype.roelSpeakBoxs = function () {
        for (var i = 0; i < 2; i++) {
            var speakBox = Laya.Pool.getItemByCreateFun('speakBox', this.speakBox.create, this.speakBox);
            this.speakBoxParent.addChild(speakBox);
            if (i === 0) {
                speakBox.pos(this.role_01.x, this.role_01.y);
                this.role_01speak = speakBox;
                this.role_01speak.alpha = 0;
                // 反向和偏移
                var pic = this.role_01speak.getChildByName('pic');
                var label = this.role_01speak.getChildByName('label');
                pic.scaleX = -1;
                label.x += 30;
            }
            else {
                speakBox.pos(this.role_02.x, this.role_02.y);
                this.role_02speak = speakBox;
                this.role_02speak.alpha = 0;
            }
        }
    };
    /**产生糖果*/
    MainSceneControl.prototype.productionCandy = function () {
        var candy = Laya.Pool.getItemByCreateFun('candy', this.candy.create, this.candy);
        this.candyCount++;
        // 随机创建一种颜色糖果
        // 糖果的名称结构是11位字符串加上索引值，方便查找，并且这样使他们的名称唯一
        var randomNum = Math.floor(Math.random() * 4);
        var url_01 = 'candy/黄色糖果.png';
        var url_02 = 'candy/红色糖果.png';
        var url_03 = 'candy/加血糖果.png';
        var url_04 = 'candy/黑色糖果.png';
        switch (randomNum) {
            case 0:
                candy.name = 'yellowCandy' + this.candyCount;
                candy.getChildByName('pic').loadImage(url_01);
                break;
            case 1:
                candy.name = 'redCandy___' + this.candyCount;
                candy.getChildByName('pic').loadImage(url_02);
                break;
            case 2:
                candy.name = 'addBlood___' + this.candyCount;
                candy.getChildByName('pic').loadImage(url_03);
                break;
            case 3:
                candy.name = 'blackCandy_' + this.candyCount;
                candy.getChildByName('pic').loadImage(url_04);
                break;
            default:
                break;
        }
        candy.pos(Laya.stage.width / 2 - candy.width / 2, -100);
        this.candyParent.addChild(candy);
        candy.rotation = 0;
    };
    /**出现敌人*/
    MainSceneControl.prototype.careatEnemy = function () {
        this.enemyCount++;
        if (this.enemytagRole !== null) {
            var enemy = Laya.Pool.getItemByCreateFun('enemy', this.enemy.create, this.enemy);
            this.enemyParent.addChild(enemy);
            // 现出来的显示在前面
            enemy.zOrder = -this.enemyCount;
            enemy.pivotX = enemy.width / 2;
            enemy.pivotY = enemy.height / 2;
            //通过目标位置判定出场位置
            if (this.enemytagRole.x < Laya.stage.width / 2 && this.enemytagRole.x > 0) {
                enemy.pos(-50, 300);
            }
            else if (this.enemytagRole.x >= Laya.stage.width / 2 && this.enemytagRole.x < Laya.stage.width) {
                enemy.pos(800, 300);
            }
        }
    };
    MainSceneControl.prototype.onUpdate = function () {
        // 角色死亡情况
        var len = this.roleParent._children.length;
        if (len === 0) {
            // 死亡
            return;
        }
        else if (len === 1) {
            var speak_01 = this.role_01speak.getChildByName('label');
            var speak_02 = this.role_02speak.getChildByName('label');
            // 复活
            if (this.rescueNum >= 5) {
                this.rescueNum = 0;
                if (this.roleParent._children[0].name === "role_01") {
                    this.roleParent.addChild(this.role_02);
                    this.role_02speak.x -= 150;
                    speak_02.text = '谢谢你啊！';
                }
                else {
                    this.roleParent.addChild(this.role_01);
                    speak_01.text = '谢谢你啊！';
                    this.role_01speak.x += 150;
                }
            }
            else {
                // 待复活提示
                if (this.roleParent._children[0].name === "role_01") {
                    this.role_02speak.alpha = 1;
                    this.role_02speak.x = this.role_02.x;
                    speak_02.text = '连续吃5个糖果不犯错的话我就复活了';
                }
                else {
                    this.role_01speak.alpha = 1;
                    this.role_01speak.x = this.role_01.x;
                    speak_01.text = '连续吃5个糖果不犯错的话我就复活了';
                }
            }
        }
        else if (len === 2) {
            // 保持，复活状态为空
            this.rescueNum === 0;
        }
        // 创建糖果
        if (this.creatOnOff) {
            var nowTime = Date.now();
            if (nowTime - this.creatTime > this.candy_interval) {
                this.creatTime = nowTime;
                this.productionCandy();
            }
        }
        // 创建敌人
        if (this.enemyAppear) {
            this.careatEnemy();
            this.enemyAppear = false;
            this.enemytagRole = null;
        }
    };
    MainSceneControl.prototype.onDisable = function () {
    };
    return MainSceneControl;
}(Laya.Script));
exports.default = MainSceneControl;
},{}],6:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var MainSceneControl_1 = require("./MainSceneControl");
var Candy_1 = require("./Candy");
var Role = /** @class */ (function (_super) {
    __extends(Role, _super);
    function Role() {
        return _super.call(this) || this;
    }
    Role.prototype.onEnable = function () {
        this.initProperty();
    };
    /**初始化*/
    Role.prototype.initProperty = function () {
        this.self = this.owner;
        this.selfScene = this.self.scene;
        this.mainSceneControl = this.selfScene.getComponent(MainSceneControl_1.default); //场景脚本组件
        this.nameArr = this.mainSceneControl.nameArr;
        this.candyParent = this.mainSceneControl.candyParent;
        this.selfHealth = this.self.getChildByName('health');
        this.selfHealth.value = 1;
        this.bucketClink();
    };
    /**主角的点击事件*/
    Role.prototype.bucketClink = function () {
        this.self.on(Laya.Event.MOUSE_DOWN, this, this.down);
        this.self.on(Laya.Event.MOUSE_MOVE, this, this.move);
        this.self.on(Laya.Event.MOUSE_UP, this, this.up);
        this.self.on(Laya.Event.MOUSE_OUT, this, this.out);
    };
    /**按下,给予目标位置，糖果走向目标位置;
     * 并且分数增加*/
    Role.prototype.down = function (event) {
        // 目前点击主角的时候关闭对话框，以免扰乱视线,但是只关闭自己的对话框。
        if (this.self.name === 'role_01') {
            this.mainSceneControl.role_01speak.alpha = 0;
        }
        else {
            this.mainSceneControl.role_02speak.alpha = 0;
        }
        this.self.scale(0.9, 0.9);
        // 如果感应区有糖果,找到第一个进入感应区的糖果的唯一名称
        if (this.nameArr[0]) {
            var candyName = this.nameArr[this.nameArr.length - 1];
            var candy = this.candyParent.getChildByName(candyName);
            if (!candy) {
                return;
            }
            var CandyScript = candy.getComponent(Candy_1.default);
            // 给予目标地点,非空说明点击过了,让场景和这个糖果都知道
            if (CandyScript.targetRole === null) {
                CandyScript.targetRole = this.self;
            }
        }
        else {
            console.log('糖果不在感应区，或者点错了');
        }
    };
    /**移动*/
    Role.prototype.move = function (event) {
    };
    /**抬起*/
    Role.prototype.up = function () {
        this.self.scale(1, 1);
    };
    /**出屏幕*/
    Role.prototype.out = function () {
        this.self.scale(1, 1);
    };
    Role.prototype.onUpdate = function () {
        if (this.selfHealth.value <= 0) {
            this.self.removeSelf();
        }
    };
    Role.prototype.onDisable = function () {
    };
    return Role;
}(Laya.Script));
exports.default = Role;
},{"./Candy":3,"./MainSceneControl":5}]},{},[2])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkU6L+i9r+S7tuWuieijhS9MQVlBL3Jlc291cmNlcy9hcHAvbm9kZV9tb2R1bGVzL2Jyb3dzZXItcGFjay9fcHJlbHVkZS5qcyIsInNyYy9HYW1lQ29uZmlnLnRzIiwic3JjL01haW4udHMiLCJzcmMvc2NyaXB0L0NhbmR5LnRzIiwic3JjL3NjcmlwdC9FbmVteS50cyIsInNyYy9zY3JpcHQvTWFpblNjZW5lQ29udHJvbC50cyIsInNyYy9zY3JpcHQvUm9sZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUNWQSxnR0FBZ0c7QUFDaEcsOERBQXdEO0FBQ3hELHNDQUFnQztBQUNoQyx3Q0FBa0M7QUFDbEMsd0NBQWtDO0FBQ2xDOztFQUVFO0FBQ0Y7SUFhSTtJQUFjLENBQUM7SUFDUixlQUFJLEdBQVg7UUFDSSxJQUFJLEdBQUcsR0FBYSxJQUFJLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQztRQUM3QyxHQUFHLENBQUMsNEJBQTRCLEVBQUMsMEJBQWdCLENBQUMsQ0FBQztRQUNuRCxHQUFHLENBQUMsZ0JBQWdCLEVBQUMsY0FBSSxDQUFDLENBQUM7UUFDM0IsR0FBRyxDQUFDLGlCQUFpQixFQUFDLGVBQUssQ0FBQyxDQUFDO1FBQzdCLEdBQUcsQ0FBQyxpQkFBaUIsRUFBQyxlQUFLLENBQUMsQ0FBQztJQUNqQyxDQUFDO0lBbkJNLGdCQUFLLEdBQVEsR0FBRyxDQUFDO0lBQ2pCLGlCQUFNLEdBQVEsSUFBSSxDQUFDO0lBQ25CLG9CQUFTLEdBQVEsWUFBWSxDQUFDO0lBQzlCLHFCQUFVLEdBQVEsVUFBVSxDQUFDO0lBQzdCLGlCQUFNLEdBQVEsS0FBSyxDQUFDO0lBQ3BCLGlCQUFNLEdBQVEsUUFBUSxDQUFDO0lBQ3ZCLHFCQUFVLEdBQUssdUJBQXVCLENBQUM7SUFDdkMsb0JBQVMsR0FBUSxFQUFFLENBQUM7SUFDcEIsZ0JBQUssR0FBUyxLQUFLLENB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O0lBQ1AsbUJBQUksR0FBSixVQUFLLEtBQUs7SUFDVixDQUFDO0lBQ0QsT0FBTztJQUNQLGlCQUFFLEdBQUY7UUFDSSxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDMUIsQ0FBQztJQUNELFFBQVE7SUFDUixrQkFBRyxHQUFIO1FBQ0ksSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQzFCLENBQUM7SUFFRCx1QkFBUSxHQUFSO1FBQ0ksSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLEtBQUssSUFBSSxDQUFDLEVBQUU7WUFDNUIsSUFBSSxDQUFDLElBQUksQ0FBQyxVQUFVLEVBQUUsQ0FBQztTQUMxQjtJQUNMLENBQUM7SUFDRCx3QkFBUyxHQUFUO0lBQ0EsQ0FBQztJQUNMLFdBQUM7QUFBRCxDQWxGQSxBQWtGQyxDQWxGaUMsSUFBSSxDQUFDLE1BQU0sR0FrRjVDIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsIi8qKlRoaXMgY2xhc3MgaXMgYXV0b21hdGljYWxseSBnZW5lcmF0ZWQgYnkgTGF5YUFpcklERSwgcGxlYXNlIGRvIG5vdCBtYWtlIGFueSBtb2RpZmljYXRpb25zLiAqL1xyXG5pbXBvcnQgTWFpblNjZW5lQ29udHJvbCBmcm9tIFwiLi9zY3JpcHQvTWFpblNjZW5lQ29udHJvbFwiXG5pbXBvcnQgUm9sZSBmcm9tIFwiLi9zY3JpcHQvUm9sZVwiXG5pbXBvcnQgQ2FuZHkgZnJvbSBcIi4vc2NyaXB0L0NhbmR5XCJcbmltcG9ydCBFbmVteSBmcm9tIFwiLi9zY3JpcHQvRW5lbXlcIlxyXG4vKlxyXG4qIOa4uOaIj+WIneWni+WMlumFjee9rjtcclxuKi9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2FtZUNvbmZpZ3tcclxuICAgIHN0YXRpYyB3aWR0aDpudW1iZXI9NzUwO1xyXG4gICAgc3RhdGljIGhlaWdodDpudW1iZXI9MTMzNDtcclxuICAgIHN0YXRpYyBzY2FsZU1vZGU6c3RyaW5nPVwiZml4ZWR3aWR0aFwiO1xyXG4gICAgc3RhdGljIHNjcmVlbk1vZGU6c3RyaW5nPVwidmVydGljYWxcIjtcclxuICAgIHN0YXRpYyBhbGlnblY6c3RyaW5nPVwidG9wXCI7XHJcbiAgICBzdGF0aWMgYWxpZ25IOnN0cmluZz1cImNlbnRlclwiO1xyXG4gICAgc3RhdGljIHN0YXJ0U2NlbmU6YW55PVwic2NlbmUvTWFpblNjZW5lLnNjZW5lXCI7XHJcbiAgICBzdGF0aWMgc2NlbmVSb290OnN0cmluZz1cIlwiO1xyXG4gICAgc3RhdGljIGRlYnVnOmJvb2xlYW49ZmFsc2U7XHJcbiAgICBzdGF0aWMgc3RhdDpib29sZWFuPXRydWU7XHJcbiAgICBzdGF0aWMgcGh5c2ljc0RlYnVnOmJvb2xlYW49dHJ1ZTtcclxuICAgIHN0YXRpYyBleHBvcnRTY2VuZVRvSnNvbjpib29sZWFuPXRydWU7XHJcbiAgICBjb25zdHJ1Y3Rvcigpe31cclxuICAgIHN0YXRpYyBpbml0KCl7XHJcbiAgICAgICAgdmFyIHJlZzogRnVuY3Rpb24gPSBMYXlhLkNsYXNzVXRpbHMucmVnQ2xhc3M7XHJcbiAgICAgICAgcmVnKFwic2NyaXB0L01haW5TY2VuZUNvbnRyb2wudHNcIixNYWluU2NlbmVDb250cm9sKTtcbiAgICAgICAgcmVnKFwic2NyaXB0L1JvbGUudHNcIixSb2xlKTtcbiAgICAgICAgcmVnKFwic2NyaXB0L0NhbmR5LnRzXCIsQ2FuZHkpO1xuICAgICAgICByZWcoXCJzY3JpcHQvRW5lbXkudHNcIixFbmVteSk7XHJcbiAgICB9XHJcbn1cclxuR2FtZUNvbmZpZy5pbml0KCk7IiwiaW1wb3J0IEdhbWVDb25maWcgZnJvbSBcIi4vR2FtZUNvbmZpZ1wiO1xyXG5jbGFzcyBNYWluIHtcclxuXHRjb25zdHJ1Y3RvcigpIHtcclxuXHRcdC8v5qC55o2uSURF6K6+572u5Yid5aeL5YyW5byV5pOOXHRcdFxyXG5cdFx0aWYgKHdpbmRvd1tcIkxheWEzRFwiXSkgTGF5YTNELmluaXQoR2FtZUNvbmZpZy53aWR0aCwgR2FtZUNvbmZpZy5oZWlnaHQpO1xyXG5cdFx0ZWxzZSBMYXlhLmluaXQoR2FtZUNvbmZpZy53aWR0aCwgR2FtZUNvbmZpZy5oZWlnaHQsIExheWFbXCJXZWJHTFwiXSk7XHJcblx0XHRMYXlhW1wiUGh5c2ljc1wiXSAmJiBMYXlhW1wiUGh5c2ljc1wiXS5lbmFibGUoKTtcclxuXHRcdExheWFbXCJEZWJ1Z1BhbmVsXCJdICYmIExheWFbXCJEZWJ1Z1BhbmVsXCJdLmVuYWJsZSgpO1xyXG5cdFx0TGF5YS5zdGFnZS5zY2FsZU1vZGUgPSBHYW1lQ29uZmlnLnNjYWxlTW9kZTtcclxuXHRcdExheWEuc3RhZ2Uuc2NyZWVuTW9kZSA9IEdhbWVDb25maWcuc2NyZWVuTW9kZTtcclxuXHRcdC8v5YW85a655b6u5L+h5LiN5pSv5oyB5Yqg6L29c2NlbmXlkI7nvIDlnLrmma9cclxuXHRcdExheWEuVVJMLmV4cG9ydFNjZW5lVG9Kc29uID0gR2FtZUNvbmZpZy5leHBvcnRTY2VuZVRvSnNvbjtcclxuXHJcblx0XHQvL+aJk+W8gOiwg+ivlemdouadv++8iOmAmui/h0lEReiuvue9ruiwg+ivleaooeW8j++8jOaIluiAhXVybOWcsOWdgOWinuWKoGRlYnVnPXRydWXlj4LmlbDvvIzlnYflj6/miZPlvIDosIPor5XpnaLmnb/vvIlcclxuXHRcdGlmIChHYW1lQ29uZmlnLmRlYnVnIHx8IExheWEuVXRpbHMuZ2V0UXVlcnlTdHJpbmcoXCJkZWJ1Z1wiKSA9PSBcInRydWVcIikgTGF5YS5lbmFibGVEZWJ1Z1BhbmVsKCk7XHJcblx0XHRpZiAoR2FtZUNvbmZpZy5waHlzaWNzRGVidWcgJiYgTGF5YVtcIlBoeXNpY3NEZWJ1Z0RyYXdcIl0pIExheWFbXCJQaHlzaWNzRGVidWdEcmF3XCJdLmVuYWJsZSgpO1xyXG5cdFx0aWYgKEdhbWVDb25maWcuc3RhdCkgTGF5YS5TdGF0LnNob3coKTtcclxuXHRcdExheWEuYWxlcnRHbG9iYWxFcnJvciA9IHRydWU7XHJcblxyXG5cdFx0Ly/mv4DmtLvotYTmupDniYjmnKzmjqfliLbvvIx2ZXJzaW9uLmpzb27nlLFJREXlj5HluIPlip/og73oh6rliqjnlJ/miJDvvIzlpoLmnpzmsqHmnInkuZ/kuI3lvbHlk43lkI7nu63mtYHnqItcclxuXHRcdExheWEuUmVzb3VyY2VWZXJzaW9uLmVuYWJsZShcInZlcnNpb24uanNvblwiLCBMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsIHRoaXMub25WZXJzaW9uTG9hZGVkKSwgTGF5YS5SZXNvdXJjZVZlcnNpb24uRklMRU5BTUVfVkVSU0lPTik7XHJcblx0fVxyXG5cclxuXHRvblZlcnNpb25Mb2FkZWQoKTogdm9pZCB7XHJcblx0XHQvL+a/gOa0u+Wkp+Wwj+WbvuaYoOWwhO+8jOWKoOi9veWwj+WbvueahOaXtuWAme+8jOWmguaenOWPkeeOsOWwj+WbvuWcqOWkp+WbvuWQiOmbhumHjOmdou+8jOWImeS8mOWFiOWKoOi9veWkp+WbvuWQiOmbhu+8jOiAjOS4jeaYr+Wwj+WbvlxyXG5cdFx0TGF5YS5BdGxhc0luZm9NYW5hZ2VyLmVuYWJsZShcImZpbGVjb25maWcuanNvblwiLCBMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsIHRoaXMub25Db25maWdMb2FkZWQpKTtcclxuXHR9XHJcblxyXG5cdG9uQ29uZmlnTG9hZGVkKCk6IHZvaWQge1xyXG5cdFx0Ly/liqDovb1JREXmjIflrprnmoTlnLrmma9cclxuXHRcdEdhbWVDb25maWcuc3RhcnRTY2VuZSAmJiBMYXlhLlNjZW5lLm9wZW4oR2FtZUNvbmZpZy5zdGFydFNjZW5lKTtcclxuXHR9XHJcbn1cclxuLy/mv4DmtLvlkK/liqjnsbtcclxubmV3IE1haW4oKTtcclxuIiwiaW1wb3J0IE1haW5TY2VuZUNvbnRyb2wgZnJvbSBcIi4vTWFpblNjZW5lQ29udHJvbFwiO1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDYW5keSBleHRlbmRzIExheWEuU2NyaXB0IHtcclxuICAgIC8qKuiHquW3sSovXHJcbiAgICBwcml2YXRlIHNlbGY6IExheWEuU3ByaXRlO1xyXG4gICAgLyoq6Ieq5bex6Lqr5LiK55qE56Kw5pKe5qGGKi9cclxuICAgIHByaXZhdGUgcmlnOiBMYXlhLlJpZ2lkQm9keTtcclxuICAgIC8qKuaJgOWxnuWcuuaZryovXHJcbiAgICBwcml2YXRlIHNlbGZTY2VuZTogTGF5YS5TY2VuZTtcclxuICAgIC8qKuWcuuaZr+iEmuacrOe7hOS7tiovXHJcbiAgICBwcml2YXRlIG1haW5TY2VuZUNvbnRyb2w7XHJcblxyXG4gICAgLyoq57OW5p6c5Yiw56Kw5Yiw5oSf5bqU6KOF572u5pe277yM5ZCN5a2X6KOF6L+b6L+Z5Liq5pWw57uEKi9cclxuICAgIHByaXZhdGUgbmFtZUFycjogQXJyYXk8c3RyaW5nPjtcclxuICAgIC8qKuezluaenOi/kOihjOeahOmAn+W6piovXHJcbiAgICBwcml2YXRlIHNwZWVkOiBudW1iZXI7XHJcblxyXG4gICAgLyoq57OW5p6c56e75Yqo5a+56LGhKi9cclxuICAgIHByaXZhdGUgY2FuZHl0YWdSb2xlOiBMYXlhLlNwcml0ZTtcclxuICAgIC8qKuWKqeaJiyovXHJcbiAgICBwcml2YXRlIGZyaWVuZDogTGF5YS5TcHJpdGU7XHJcbiAgICBwcml2YXRlIGZyaUhlYWx0aDogTGF5YS5Qcm9ncmVzc0JhcjtcclxuICAgIC8qKuS4u+inkueahOeItuiKgueCuSovXHJcbiAgICBwcml2YXRlIHJvbGVQYXJlbnQ6IExheWEuU3ByaXRlO1xyXG5cclxuICAgIC8qKuaEn+W6lOWMuiovXHJcbiAgICBwcml2YXRlIGluZHVjdGlvbjogTGF5YS5TcHJpdGU7XHJcblxyXG4gICAgLyoq5b6X5YiG5pi+56S6Ki9cclxuICAgIHB1YmxpYyBzY29yZUxhYmVsOiBMYXlhLkxhYmVsO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkgeyBzdXBlcigpOyB9XHJcbiAgICBvbkVuYWJsZSgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmluaXRQcm9wZXJ0eSgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKuWIneWni+WMliovXHJcbiAgICBpbml0UHJvcGVydHkoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5zZWxmID0gdGhpcy5vd25lciBhcyBMYXlhLlNwcml0ZTtcclxuICAgICAgICB0aGlzLnNlbGZTY2VuZSA9IHRoaXMuc2VsZi5zY2VuZSBhcyBMYXlhLlNjZW5lO1xyXG4gICAgICAgIHRoaXMubWFpblNjZW5lQ29udHJvbCA9IHRoaXMuc2VsZlNjZW5lLmdldENvbXBvbmVudChNYWluU2NlbmVDb250cm9sKTsvL+WcuuaZr+iEmuacrOe7hOS7tlxyXG5cclxuICAgICAgICB0aGlzLnJvbGVQYXJlbnQgPSB0aGlzLm1haW5TY2VuZUNvbnRyb2wucm9sZVBhcmVudDtcclxuICAgICAgICB0aGlzLmZyaWVuZCA9IHRoaXMubWFpblNjZW5lQ29udHJvbC5mcmllbmQ7XHJcbiAgICAgICAgdGhpcy5mcmlIZWFsdGggPSB0aGlzLmZyaWVuZC5nZXRDaGlsZEJ5TmFtZSgnaGVhbHRoJykgYXMgTGF5YS5Qcm9ncmVzc0JhcjtcclxuICAgICAgICB0aGlzLmNhbmR5dGFnUm9sZSA9IG51bGw7XHJcblxyXG4gICAgICAgIHRoaXMubmFtZUFyciA9IHRoaXMubWFpblNjZW5lQ29udHJvbC5uYW1lQXJyO1xyXG4gICAgICAgIHRoaXMuc2NvcmVMYWJlbCA9IHRoaXMubWFpblNjZW5lQ29udHJvbC5zY29yZUxhYmVsO1xyXG4gICAgICAgIHRoaXMucmlnID0gdGhpcy5zZWxmLmdldENvbXBvbmVudChMYXlhLlJpZ2lkQm9keSkgYXMgTGF5YS5SaWdpZEJvZHk7XHJcbiAgICAgICAgdGhpcy5yaWcubGluZWFyVmVsb2NpdHkgPSB7IHg6IDAsIHk6IDAuMSB9Oy8v5q2k5aSEeeWAvOW/hemhu+S4jeetieS6jjDmiY3og73mraPluLjmo4DmtYvnorDmkp7vvIzlubbkuI3nn6XpgZPkuLrkvZVcclxuICAgICAgICB0aGlzLnNwZWVkID0gNjtcclxuXHJcbiAgICAgICAgdGhpcy5pbmR1Y3Rpb24gPSB0aGlzLm1haW5TY2VuZUNvbnRyb2wuaW5kdWN0aW9uO1xyXG4gICAgfVxyXG5cclxuICAgIG9uVHJpZ2dlckVudGVyKG90aGVyOiBhbnksIHNlbGY6IGFueSwgY29udGFjdDogYW55KTogdm9pZCB7XHJcbiAgICAgICAgLy8g5ZKM57OW5p6c56Kw5pKe55qE54mp5L2T5ZCN56ewXHJcbiAgICAgICAgbGV0IG90aGVyTmFtZTogc3RyaW5nID0gb3RoZXIub3duZXIubmFtZTtcclxuICAgICAgICAvLyDns5bmnpznsbvlnovlkI3np7BcclxuICAgICAgICBsZXQgbmFtZSA9IHNlbGYub3duZXIubmFtZTtcclxuICAgICAgICBsZXQgY2FuZHlUeXBlID0gbmFtZS5zdWJzdHJpbmcoMCwgMTEpO1xyXG4gICAgICAgIC8vIOWIneasoeeisOaSnuaKiuWUr+S4gOeahOWQjeensOaUvui/m+aVsOe7hFxyXG4gICAgICAgIGlmIChvdGhlck5hbWUgPT09ICdpbmR1Y3Rpb24nKSB7XHJcbiAgICAgICAgICAgIHRoaXMubmFtZUFyci5wdXNoKG5hbWUpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAob3RoZXJOYW1lID09PSAneWVsbG93Um9sZScgfHwgb3RoZXJOYW1lID09PSAncmVkUm9sZScpIHtcclxuICAgICAgICAgICAgdGhpcy5zZWxmLnJlbW92ZVNlbGYoKTtcclxuICAgICAgICAgICAgLy8g6Ziy5q2i5oql6ZSZXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmNhbmR5dGFnUm9sZSA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyDliqDooYDns5bmnpws5aaC5p6c5ruh6KGA5YiZ5YqgMTAwMOWIhlxyXG4gICAgICAgICAgICBpZiAoY2FuZHlUeXBlID09PSAnYWRkQmxvb2RfX18nKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgdGFnSGVhbHRoID0gdGhpcy5jYW5keXRhZ1JvbGUuZ2V0Q2hpbGRCeU5hbWUoJ2hlYWx0aCcpIGFzIExheWEuUHJvZ3Jlc3NCYXI7XHJcbiAgICAgICAgICAgICAgICBpZiAodGFnSGVhbHRoLnZhbHVlID49IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNjb3JlTGFiZWwudGV4dCA9IChOdW1iZXIodGhpcy5zY29yZUxhYmVsLnRleHQpICsgMTAwMCkudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGFnSGVhbHRoLnZhbHVlICs9IDAuMjtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnSGVhbHRoLnZhbHVlID49IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGFnSGVhbHRoLnZhbHVlID0gMTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIOm7keiJsuezluaenOS5n+WHuueOsOS4gOS4quaVjOS6uizov5nkuKrmlYzkurrlpoLmnpzmmK/lt6bovrnvvIzlsLHnm7TmjqXmlLvlh7vkuLvop5LvvIzlpoLmnpzlnKjlj7PovrnkvJjlhYjmlLvlh7vliqnmiYtcclxuICAgICAgICAgICAgLy8g5L2G5piv6KaB5Yik5pat5b2T5YmN54K55Ye755qE5Li76KeS5piv5ZOq6L65LOWPquacieWPs+i+ueaJjeiDveaUu+WHu2ZyaWVuZFxyXG4gICAgICAgICAgICBpZiAoY2FuZHlUeXBlID09PSAnYmxhY2tDYW5keV8nKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVuZW15VGFyZ2V0KCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIOaZrumAmuezluaenOaXoOS7u+S9leeJueauiuS6i+S7tlxyXG4gICAgICAgICAgICBsZXQgcGFpck5hbWUgPSBjYW5keVR5cGUgKyBvdGhlck5hbWU7XHJcbiAgICAgICAgICAgIGxldCBtYXRjaGluZ18wMSA9ICd5ZWxsb3dDYW5keScgKyAneWVsbG93Um9sZSc7XHJcbiAgICAgICAgICAgIGxldCBtYXRjaGluZ18wMiA9ICdyZWRDYW5keV9fXycgKyAncmVkUm9sZSc7XHJcbiAgICAgICAgICAgIGlmIChwYWlyTmFtZSA9PT0gbWF0Y2hpbmdfMDEgfHwgcGFpck5hbWUgPT09IG1hdGNoaW5nXzAyKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjb3JlTGFiZWwudGV4dCA9IChOdW1iZXIodGhpcy5zY29yZUxhYmVsLnRleHQpICsgMTAwKS50b1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgLy8g5aSN5rS777yM6L+Y5Ymp5LiA5Liq5Li76KeS55qE5pe25YCZ5omN5pyJ5aSN5rS76YCJ6aG5XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yb2xlUGFyZW50Ll9jaGlsZHJlbi5sZW5ndGggPT09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1haW5TY2VuZUNvbnRyb2wucmVzY3VlTnVtKys7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVuZW15VGFyZ2V0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDnu5nkuojmlYzkurrmlLvlh7vnm67moIfnoa7lrprop4TliJlcclxuICAgICAqIOWmguaenOeCueWHu+eahOaYr+W3pui+ueeahOS4u+inku+8jOmCo+S5iOebtOaOpeWOu+W3pui+uVxyXG4gICAgICog5aaC5p6c54K55Ye755qE5piv5Y+z6L6555qE5Li76KeS77yM6YKj5LmI5YWI5Yik5pat5Yqp5omL5q275LqG5rKh5pyJXHJcbiAgICAgKiAqL1xyXG4gICAgZW5lbXlUYXJnZXQoKSB7XHJcbiAgICAgICAgdGhpcy5tYWluU2NlbmVDb250cm9sLmVuZW15QXBwZWFyID0gdHJ1ZTtcclxuICAgICAgICBpZiAodGhpcy5jYW5keXRhZ1JvbGUubmFtZSA9PT0gJ3JvbGVfMDEnKSB7XHJcbiAgICAgICAgICAgIHRoaXMubWFpblNjZW5lQ29udHJvbC5lbmVteXRhZ1JvbGUgPSB0aGlzLmNhbmR5dGFnUm9sZTtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY2FuZHl0YWdSb2xlLm5hbWUgPT09ICdyb2xlXzAyJykge1xyXG4gICAgICAgICAgICAvLyDliqnmiYvmrbvkuqHliJnlr7vmib7lj7Povrnnm67moIfvvIzlj7Povrnnm67moIflv4XlrprmsqHmrbvvvIzlkKbliJnmuLjmiI/nu5PmnZ/kuoZcclxuICAgICAgICAgICAgaWYgKHRoaXMuZnJpSGVhbHRoLnZhbHVlID49IDApIHtcclxuICAgICAgICAgICAgICAgIGxldCBtYWluU2NlbmVDb250cm9sID0gdGhpcy5zZWxmU2NlbmUuZ2V0Q29tcG9uZW50KE1haW5TY2VuZUNvbnRyb2wpOy8v5Zy65pmv6ISa5pys57uE5Lu2XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1haW5TY2VuZUNvbnRyb2wuZW5lbXlBcHBlYXIgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tYWluU2NlbmVDb250cm9sLmVuZW15dGFnUm9sZSA9IHRoaXMubWFpblNjZW5lQ29udHJvbC5mcmllbmQ7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyDnm67moIfkuI3lj5hcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBvblRyaWdnZXJTdGF5KG90aGVyOiBhbnksIHNlbGY6IGFueSwgY29udGFjdDogYW55KTogdm9pZCB7XHJcbiAgICB9XHJcblxyXG4gICAgLy8g5ZKM5oSf5bqU5Yy656Kw5pKe57uT5p2f5LmL5ZCO77yM5aaC5p6c5rKh5pyJ6KKr5ZCD77yM6YKj5LmI5Lmf5Lya5Ye6546w5LiA5Liq5pWM5Lq6XHJcbiAgICAvLyDmtojlpLHop4TliJnmmK/lpoLmnpzmsqHmnInnm67moIflr7nosaHnmoTml7blgJnlsLHkvJrooqvliKDmjolcclxuICAgIC8vIOWmguaenOayoeacieebruagh+Wvueixoe+8jOmCo+S5iOS8muebtOaOpea2iOWkse+8jOacieeahOivneenu+WKqOWIsOebruagh+WvueixoVxyXG4gICAgLy8g5aaC5p6c5rKh5pyJ55uu5qCH5a+56LGh5bm25LiU6L+Y5piv6buR6Imy57OW5p6c77yM6YKj5LmI5LuW55qE56e75Yqo55uu5qCH5piv5Yqp5omLZnJpZW5k77yMXHJcbiAgICAvLyDlubbkuJTliqnmiYtmcmllbmTkuI3kvJrmjonooYDkuZ/kuI3kvJrlh7rnjrDmgKrnialcclxuICAgIG9uVHJpZ2dlckV4aXQob3RoZXI6IGFueSwgc2VsZjogYW55LCBjb250YWN0OiBhbnkpOiB2b2lkIHtcclxuICAgICAgICAvLyDnorDmkp7nu5PmnZ/liKDmjonlkI3np7BcclxuICAgICAgICBsZXQgb3RoZXJOYW1lID0gb3RoZXIub3duZXIubmFtZTtcclxuICAgICAgICBpZiAob3RoZXJOYW1lID09PSAnaW5kdWN0aW9uJykge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubmFtZUFyci5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubmFtZUFycltpXSA9PT0gc2VsZi5vd25lci5uYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5uYW1lQXJyLnNwbGljZShpLCAxKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyDmsqHmnInnm67moIflr7nosaFcclxuICAgICAgICBpZiAodGhpcy5jYW5keXRhZ1JvbGUgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgLy8g57OW5p6c57G75Z6L5ZCN56ewXHJcbiAgICAgICAgICAgIGxldCBuYW1lID0gc2VsZi5vd25lci5uYW1lO1xyXG4gICAgICAgICAgICBsZXQgY2FuZHlUeXBlID0gbmFtZS5zdWJzdHJpbmcoMCwgMTEpO1xyXG4gICAgICAgICAgICBpZiAoY2FuZHlUeXBlID09PSAnYmxhY2tDYW5keV8nKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhbmR5dGFnUm9sZSA9IHRoaXMubWFpblNjZW5lQ29udHJvbC5mcmllbmQ7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGYucmVtb3ZlU2VsZigpO1xyXG4gICAgICAgICAgICAgICAgLy8gdGhpcy5tYWluU2NlbmVDb250cm9sLnRhZ1JvbGUgPXRoaXMubWFpblNjZW5lQ29udHJvbC5mcmllbmQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgb25VcGRhdGUoKTogdm9pZCB7XHJcbiAgICAgICAgLy8g5Li76KeS5YWo6YOo5q275Lqh5pe25YGc5q2i56e75YqoXHJcbiAgICAgICAgaWYgKHRoaXMucm9sZVBhcmVudC5fY2hpbGRyZW4ubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmlnLmxpbmVhclZlbG9jaXR5ID0geyB4OiAwLCB5OiAwIH07XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIOi2heWHuuiMg+WbtOa2iOWksVxyXG4gICAgICAgIGlmICh0aGlzLnNlbGYueSA+IExheWEuc3RhZ2UuaGVpZ2h0ICsgMTAwIHx8IHRoaXMuc2VsZi55IDwgMCAtIDEwMCB8fCB0aGlzLnNlbGYueCA+IDc1MCArIHRoaXMuc2VsZi53aWR0aCArIDUwIHx8IHRoaXMuc2VsZi54IDwgLXRoaXMuc2VsZi53aWR0aCkge1xyXG4gICAgICAgICAgICB0aGlzLnNlbGYucmVtb3ZlU2VsZigpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8g5Yik5pat5Y675ZCRXHJcbiAgICAgICAgaWYgKHRoaXMuY2FuZHl0YWdSb2xlID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2VsZi55ICs9IHRoaXMuc3BlZWQ7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8g5aaC5p6cdGhpcy50YXJnZXRSb2xl5LuO54i26IqC54K556e76Zmk5LqG77yM6YKj5LmI57OW5p6c55u05o6l5LiL6JC9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmNhbmR5dGFnUm9sZS5wYXJlbnQgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VsZi55ICs9IDM7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyAvLyAg5aaC5p6c5piv6buR6Imy57OW5p6c56Kw5Yiw5Yqp5omLZnJpZW5k77yM6YKj5LmI5Lya6KKr5Yqp5omL5ZCD5o6JXHJcbiAgICAgICAgICAgICAgICBpZiAoTWF0aC5hYnModGhpcy5tYWluU2NlbmVDb250cm9sLmZyaWVuZC54IC0gdGhpcy5zZWxmLngpID4gMTAgJiYgTWF0aC5hYnModGhpcy5tYWluU2NlbmVDb250cm9sLmZyaWVuZC55IC0gdGhpcy5zZWxmLnkpID4gMTApIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGYucmVtb3ZlU2VsZigpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIHgseeWIhuWIq+ebuOWHj+aYr+S4pOeCuei/nue6v+WQkemHj1xyXG4gICAgICAgICAgICAgICAgbGV0IHBvaW50ID0gbmV3IExheWEuUG9pbnQodGhpcy5jYW5keXRhZ1JvbGUueCAtIHRoaXMuc2VsZi54LCB0aGlzLmNhbmR5dGFnUm9sZS55IC0gdGhpcy5zZWxmLnkpO1xyXG4gICAgICAgICAgICAgICAgLy8g5b2S5LiA5YyW77yM5ZCR6YeP6ZW/5bqm5Li6MeOAglxyXG4gICAgICAgICAgICAgICAgcG9pbnQubm9ybWFsaXplKCk7XHJcbiAgICAgICAgICAgICAgICAvL+WQkemHj+ebuOWKoFxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxmLnggKz0gcG9pbnQueCAqIHRoaXMuc3BlZWQgKiAxNSAvIDg7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGYueSArPSBwb2ludC55ICogdGhpcy5zcGVlZCAqIDE1IC8gODtcclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgb25EaXNhYmxlKCk6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLnNlbGYubmFtZSA9PT0gJ3llbGxvd0NhbmR5Jykge1xyXG4gICAgICAgICAgICBMYXlhLlBvb2wucmVjb3ZlcigneWVsbG93Q2FuZHknLCB0aGlzLnNlbGYpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5zZWxmLm5hbWUgPT09ICdyZWRDYW5keV9fXycpIHtcclxuICAgICAgICAgICAgTGF5YS5Qb29sLnJlY292ZXIoJ3JlZENhbmR5X19fJywgdGhpcy5zZWxmKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgTWFpblNjZW5lQ29udHJvbCBmcm9tIFwiLi9NYWluU2NlbmVDb250cm9sXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFbmVteSBleHRlbmRzIExheWEuU2NyaXB0IHtcclxuICAgIC8qKuiHquW3sSovXHJcbiAgICBwcml2YXRlIHNlbGY6IExheWEuU3ByaXRlO1xyXG4gICAgLyoq6Ieq5bex55qE6KGA6YePKi9cclxuICAgIHByaXZhdGUgc2VsZkhlYWx0aDogTGF5YS5Qcm9ncmVzc0JhcjtcclxuICAgIC8qKuiHquW3seenu+WKqOmAn+W6piovXHJcbiAgICBwcml2YXRlIHNsZWZTcGVlZDogbnVtYmVyO1xyXG5cclxuICAgIC8qKuaJgOWxnuWcuuaZryovXHJcbiAgICBwcml2YXRlIHNlbGZTY2VuZTogTGF5YS5TY2VuZTtcclxuICAgIC8qKuWcuuaZr+iEmuacrOe7hOS7tiovXHJcbiAgICBwcml2YXRlIG1haW5TY2VuZUNvbnRyb2w7XHJcblxyXG4gICAgLyoq5Li76KeS55qE54i26IqC54K5Ki9cclxuICAgIHByaXZhdGUgcm9sZVBhcmVudDogTGF5YS5TcHJpdGU7XHJcbiAgICAvKirmgKrnianmlLvlh7vlr7nosaEs5Lmf5piv5LiK5Liq5ZCD57OW5p6c5a+56LGhLOS4gOasoeaAp++8jOi1i+S4gOasoeWAvOWPquiDveeUqOS4gOasoSovXHJcbiAgICBwcml2YXRlIHRhZ1JvbGU6IExheWEuU3ByaXRlO1xyXG4gICAgLyoq5pS75Ye75a+56LGh6KGA6YePKi9cclxuICAgIHByaXZhdGUgdGFnSGVhbHRoOiBMYXlhLlByb2dyZXNzQmFyO1xyXG5cclxuICAgIC8qKuWvueivneahhiovXHJcbiAgICBwcml2YXRlIHNwZWFrQm94OiBMYXlhLlByZWZhYjtcclxuXHJcbiAgICAvKirmlLvlh7vml7bpl7Tpl7TpmpQqL1xyXG4gICAgcHJpdmF0ZSBhdHRhY2tUbnRlcnZhbDogbnVtYmVyO1xyXG4gICAgLyoq5b2T5YmN5pe26Ze077yM55So5LqO5a+55q+U5pe26Ze06Ze06ZqUKi9cclxuICAgIHByaXZhdGUgcmVjb3JkVGltZTogbnVtYmVyO1xyXG5cclxuICAgIC8qKuWIhuaVsCovIFxyXG4gICAgcHJpdmF0ZSBzY29yZUxhYmVsOkxheWEuTGFiZWw7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7IHN1cGVyKCk7IH1cclxuXHJcbiAgICBvbkVuYWJsZSgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmluaXRQcm9wZXJ0eSgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKuWIneWni+WMliovXHJcbiAgICBpbml0UHJvcGVydHkoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5zZWxmID0gdGhpcy5vd25lciBhcyBMYXlhLlNwcml0ZTtcclxuICAgICAgICB0aGlzLnNlbGZIZWFsdGggPSB0aGlzLnNlbGYuZ2V0Q2hpbGRCeU5hbWUoJ2hlYWx0aCcpIGFzIExheWEuUHJvZ3Jlc3NCYXI7XHJcbiAgICAgICAgdGhpcy5zZWxmSGVhbHRoLnZhbHVlID0gMTtcclxuICAgICAgICB0aGlzLnNsZWZTcGVlZCA9IDU7XHJcblxyXG4gICAgICAgIHRoaXMuc2VsZlNjZW5lID0gdGhpcy5vd25lci5zY2VuZSBhcyBMYXlhLlNjZW5lO1xyXG4gICAgICAgIHRoaXMubWFpblNjZW5lQ29udHJvbCA9IHRoaXMuc2VsZlNjZW5lLmdldENvbXBvbmVudChNYWluU2NlbmVDb250cm9sKTsvL+WcuuaZr+iEmuacrOe7hOS7tlxyXG4gICAgICAgIHRoaXMucm9sZVBhcmVudCA9IHRoaXMubWFpblNjZW5lQ29udHJvbC5yb2xlUGFyZW50O1xyXG4gICAgICAgIHRoaXMudGFnUm9sZSA9IHRoaXMubWFpblNjZW5lQ29udHJvbC50YWdSb2xlO1xyXG4gICAgICAgIHRoaXMudGFnSGVhbHRoID0gdGhpcy50YWdSb2xlLmdldENoaWxkQnlOYW1lKCdoZWFsdGgnKSBhcyBMYXlhLlByb2dyZXNzQmFyO1xyXG5cclxuICAgICAgICB0aGlzLmF0dGFja1RudGVydmFsID0gMTAwO1xyXG4gICAgICAgIHRoaXMucmVjb3JkVGltZSA9IERhdGUubm93KCk7XHJcblxyXG4gICAgICAgIHRoaXMuc3BlYWtCb3ggPSB0aGlzLm1haW5TY2VuZUNvbnRyb2wuc3BlYWtCb3g7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5zY29yZUxhYmVsPXRoaXMubWFpblNjZW5lQ29udHJvbC5zY29yZUxhYmVsO1xyXG5cclxuICAgICAgICB0aGlzLmJ1Y2tldENsaW5rKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoq5pWM5Lq654K55Ye75LqL5Lu2Ki9cclxuICAgIGJ1Y2tldENsaW5rKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuc2VsZi5vbihMYXlhLkV2ZW50Lk1PVVNFX0RPV04sIHRoaXMsIHRoaXMuZG93bik7XHJcbiAgICAgICAgdGhpcy5zZWxmLm9uKExheWEuRXZlbnQuTU9VU0VfTU9WRSwgdGhpcywgdGhpcy5tb3ZlKTtcclxuICAgICAgICB0aGlzLnNlbGYub24oTGF5YS5FdmVudC5NT1VTRV9VUCwgdGhpcywgdGhpcy51cCk7XHJcbiAgICAgICAgdGhpcy5zZWxmLm9uKExheWEuRXZlbnQuTU9VU0VfT1VULCB0aGlzLCB0aGlzLm91dCk7XHJcbiAgICB9XHJcbiAgICAvKirngrnlh7vmlYzkurrvvIzmlYzkurrlpLTkuIrkvJrlh7rnjrDlsI/plKTlrZDvvIzmlbLmiZPmlYzkurrvvIzmr4/ngrnlh7vkuIDmrKHooYDph4/kvJrlh4/lsJE7XHJcbiAgICAgKiDlpoLmnpzkuI3miormlYzkurrmiZPmrbvvvIzpgqPkuYjkuLvop5LlsLHkvJrooqvmlLvlh7tcclxuICAgICAqIOW9k+eEtuWQg+WIsOeahOezluaenOS5n+S8muacieWPpuWklueahOWinuebilxyXG4gICAgICog5p2A5pWM5pqC5pe25LiN5aKe5Yqg5YiG5pWw5YiG5pWw5aKe5YqgKi9cclxuICAgIGRvd24oZXZlbnQpOiB2b2lkIHtcclxuICAgICAgICAvLyDkuLvop5Llhajpg6jmrbvkuqHml7blgZzmraLnp7vliqhcclxuICAgICAgICBpZiAodGhpcy5yb2xlUGFyZW50Ll9jaGlsZHJlbi5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2VsZi5zY2FsZSgwLjk1LCAwLjk1KTtcclxuICAgICAgICAgICAgdGhpcy5zZWxmSGVhbHRoLnZhbHVlIC09IDAuMjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKirnp7vliqgqL1xyXG4gICAgbW92ZShldmVudCk6IHZvaWQge1xyXG4gICAgfVxyXG4gICAgLyoq5oqs6LW3Ki9cclxuICAgIHVwKGV2ZW50KTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5zZWxmLnNjYWxlKDEsIDEpO1xyXG4gICAgfVxyXG4gICAgLyoq5Ye65bGP5bmVKi9cclxuICAgIG91dChldmVudCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuc2VsZi5zY2FsZSgxLCAxKTtcclxuICAgIH1cclxuXHJcbiAgICAvKiog5pWM5Lq656e75Yqo6KeE5YiZKi9cclxuICAgIGVuZW15TW92ZSgpOiB2b2lkIHtcclxuICAgICAgICAvLyB4LHnliIbliKvnm7jlh4/mmK/kuKTngrnov57nur/lkJHph49cclxuICAgICAgICAvLyDlkJHph4/orqHnrpflubbkuJTlvZLkuIDljJbvvIzlkJHph4/plb/luqbkuLox44CCXHJcbiAgICAgICAgbGV0IHBvaW50ID0gbmV3IExheWEuUG9pbnQodGhpcy50YWdSb2xlLnggLSB0aGlzLnNlbGYueCwgdGhpcy50YWdSb2xlLnkgLSB0aGlzLnNlbGYueSk7XHJcbiAgICAgICAgcG9pbnQubm9ybWFsaXplKCk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnRhZ1JvbGUueCA+IExheWEuc3RhZ2Uud2lkdGggLyAyKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNlbGYueCAtIHRoaXMudGFnUm9sZS54IDwgMTAwKSB7XHJcbiAgICAgICAgICAgICAgICAvL+WQkemHj+ebuOWKoFxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxmLnggKz0gcG9pbnQueCAqIHRoaXMuc2xlZlNwZWVkO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxmLnkgKz0gcG9pbnQueSAqIHRoaXMuc2xlZlNwZWVkO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxmLnggLT0gdGhpcy5zbGVmU3BlZWQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMudGFnUm9sZS54IDwgTGF5YS5zdGFnZS53aWR0aCAvIDIpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMudGFnUm9sZS54IC0gdGhpcy5zZWxmLnggPCAxMDApIHtcclxuICAgICAgICAgICAgICAgIC8v5ZCR6YeP55u45YqgXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGYueCArPSBwb2ludC54ICogdGhpcy5zbGVmU3BlZWQ7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGYueSArPSBwb2ludC55ICogdGhpcy5zbGVmU3BlZWQ7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGYueCArPSB0aGlzLnNsZWZTcGVlZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBvblVwZGF0ZSgpOiB2b2lkIHtcclxuICAgICAgICAvLyDkuLvop5Llhajpg6jmrbvkuqHliJnlgZzmraLnp7vliqhcclxuICAgICAgICBpZiAodGhpcy5yb2xlUGFyZW50Ll9jaGlsZHJlbi5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8g6KGA6YeP5L2O5LqOMOatu+S6oSzlubbkuJTlop7liqDliIbmlbBcclxuICAgICAgICBpZiAodGhpcy5zZWxmSGVhbHRoLnZhbHVlIDw9IDApIHtcclxuICAgICAgICAgICAgdGhpcy5zZWxmLnJlbW92ZVNlbGYoKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyDliLDovr7lr7nosaHkvY3nva7lkI7lvIDlkK/mlLvlh7vlvIDlhbPov5vooYzmlLvlh7vvvIzmlLvlh7vpgJ/luqbkvp3nhafml7bpl7Tpl7TpmpTogIzlrppcclxuICAgICAgICBsZXQgZGlmZmVyZW5jZVggPSBNYXRoLmFicyh0aGlzLnNlbGYueCAtIHRoaXMudGFnUm9sZS54KTtcclxuICAgICAgICBsZXQgZGlmZmVyZW5jZVkgPSBNYXRoLmFicyh0aGlzLnNlbGYueSAtIHRoaXMudGFnUm9sZS55KTtcclxuICAgICAgICBpZiAoZGlmZmVyZW5jZVggPCAxMDAgJiYgZGlmZmVyZW5jZVkgPCAxMDApIHtcclxuXHJcbiAgICAgICAgICAgIGxldCBub3dUaW1lID0gRGF0ZS5ub3coKTtcclxuICAgICAgICAgICAgaWYgKG5vd1RpbWUgLSB0aGlzLnJlY29yZFRpbWUgPiB0aGlzLmF0dGFja1RudGVydmFsKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlY29yZFRpbWUgPSBub3dUaW1lO1xyXG4gICAgICAgICAgICAgICAgLy8g6KGA6YeP5Yik5pat77yM55uu5qCH5q275Lqh5ZCO77yM5Lya5pu05o2i55uu5qCHXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy50YWdIZWFsdGgudmFsdWUgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50YWdIZWFsdGgudmFsdWUgLT0gMC4wMTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8g5pu05o2i55uu5qCHXHJcbiAgICAgICAgICAgICAgICAgICAgLy8g5Yik5pat6L+Z5Liq55uu5qCH5piv5LiN5piv5Yqp5omLLOWmguaenOaYr+WKqeaJi++8jOmCo+S5iOWPs+i+ueS4u+inkuS4gOWumuWcqFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIOWQpuWImeWmguaenOS4pOS4quS4u+inkumDveatu+S6hu+8jOa4uOaIj+Wwsee7k+adn+S6hlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnRhZ1JvbGUubmFtZSA9PT0gJ2ZyaWVuZCcgfHwgdGhpcy50YWdSb2xlLm5hbWUgPT09ICdyb2xlXzAxJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRhZ1JvbGUgPSB0aGlzLm1haW5TY2VuZUNvbnRyb2wucm9sZV8wMjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50YWdIZWFsdGggPSB0aGlzLm1haW5TY2VuZUNvbnRyb2wucm9sZV8wMi5nZXRDaGlsZEJ5TmFtZSgnaGVhbHRoJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnRhZ1JvbGUubmFtZSA9PT0gJ3JvbGVfMDInKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGFnUm9sZSA9IHRoaXMubWFpblNjZW5lQ29udHJvbC5yb2xlXzAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRhZ0hlYWx0aCA9IHRoaXMubWFpblNjZW5lQ29udHJvbC5yb2xlXzAxLmdldENoaWxkQnlOYW1lKCdoZWFsdGgnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmVuZW15TW92ZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgb25EaXNhYmxlKCk6IHZvaWQge1xyXG4gICAgICAgIExheWEuUG9vbC5yZWNvdmVyKCdlbmVteScsIHRoaXMuc2VsZik7XHJcbiAgICB9XHJcblxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWFpblNjZW5lQ29udHJvbCBleHRlbmRzIExheWEuU2NyaXB0IHtcclxuICAgIC8qKiBAcHJvcCB7bmFtZTpjYW5keSwgdGlwczpcIuezluaenFwiLCB0eXBlOlByZWZhYn0qL1xyXG4gICAgcHVibGljIGNhbmR5OiBMYXlhLlByZWZhYjtcclxuICAgIC8qKiBAcHJvcCB7bmFtZTpjYW5keVBhcmVudCwgdGlwczpcIuezluaenOeItuiKgueCuVwiLCB0eXBlOk5vZGV9Ki9cclxuICAgIHB1YmxpYyBjYW5keVBhcmVudDogTGF5YS5TcHJpdGU7XHJcblxyXG4gICAgLyoqIEBwcm9wIHtuYW1lOnJvbGVQYXJlbnQsIHRpcHM6XCLop5LoibLniLboioLngrlcIiwgdHlwZTpOb2RlfSovXHJcbiAgICBwdWJsaWMgcm9sZVBhcmVudDogTGF5YS5TcHJpdGU7XHJcbiAgICAvKiogQHByb3Age25hbWU6ZnJpZW5kLCB0aXBzOlwi5biu5omLXCIsIHR5cGU6Tm9kZX0qL1xyXG4gICAgcHVibGljIGZyaWVuZDogTGF5YS5TcHJpdGU7XHJcblxyXG4gICAgLyoqIEBwcm9wIHtuYW1lOmVuZW15LCB0aXBzOlwi5pWM5Lq6XCIsIHR5cGU6UHJlZmFifSovXHJcbiAgICBwdWJsaWMgZW5lbXk6IExheWEuUHJlZmFiO1xyXG4gICAgLyoqIEBwcm9wIHtuYW1lOmVuZW15UGFyZW50LCB0aXBzOlwi5pWM5Lq654i26IqC54K5XCIsIHR5cGU6Tm9kZX0qL1xyXG4gICAgcHVibGljIGVuZW15UGFyZW50OiBMYXlhLlNwcml0ZTtcclxuXHJcbiAgICAvKiogQHByb3Age25hbWU6YmFja2dyb3VuZCwgdGlwczpcIuiDjOaZr+WbvlwiLCB0eXBlOk5vZGV9Ki9cclxuICAgIHB1YmxpYyBiYWNrZ3JvdW5kOiBMYXlhLlNwcml0ZTtcclxuICAgIC8qKiBAcHJvcCB7bmFtZTphc3NlbWJseSwgdGlwczrmtYHmsLTnur8sIHR5cGU6Tm9kZX0qL1xyXG4gICAgcHVibGljIGFzc2VtYmx5OiBMYXlhLlNwcml0ZTtcclxuXHJcbiAgICAvKiogQHByb3Age25hbWU6c3BlYWtCb3hQYXJlbnQsIHRpcHM6XCLlr7nor53moYbniLboioLngrlcIiwgdHlwZTpOb2RlfSovXHJcbiAgICBwdWJsaWMgc3BlYWtCb3hQYXJlbnQ6IExheWEuU3ByaXRlO1xyXG4gICAgLyoqIEBwcm9wIHtuYW1lOnNwZWFrQm94LCB0aXBzOlwi5a+56K+d5qGGXCIsIHR5cGU6UHJlZmFifSovXHJcbiAgICBwdWJsaWMgc3BlYWtCb3g6IExheWEuUHJlZmFiO1xyXG5cclxuICAgIC8qKiBAcHJvcCB7bmFtZTpzY29yZUxhYmVsLCB0aXBzOuKAmOW+l+WIhuKAmSwgdHlwZTpOb2RlfSovXHJcbiAgICBwdWJsaWMgc2NvcmVMYWJlbDogTGF5YS5MYWJlbDtcclxuXHJcbiAgICAvKiogQHByb3Age25hbWU6aW5kdWN0aW9uLCB0aXBzOuKAmOaEn+W6lOS9jee9ruKAmSwgdHlwZTpOb2RlfSovXHJcbiAgICBwdWJsaWMgaW5kdWN0aW9uOiBMYXlhLlNwcml0ZTtcclxuXHJcbiAgICAvKirkuKTkuKrkuLvop5IqL1xyXG4gICAgcHJpdmF0ZSByb2xlXzAxOiBMYXlhLlNwcml0ZTtcclxuICAgIHByaXZhdGUgcm9sZV8wMjogTGF5YS5TcHJpdGU7XHJcbiAgICAvKirkuKTkuKrkuLvop5LnmoTlr7nor53moYYqL1xyXG4gICAgcHJpdmF0ZSByb2xlXzAxc3BlYWs6IExheWEuU3ByaXRlO1xyXG4gICAgcHJpdmF0ZSByb2xlXzAyc3BlYWs6IExheWEuU3ByaXRlO1xyXG5cclxuICAgIC8qKuaVjOS6uuWHuueOsOW8gOWFs++8jOi/meS4quW8gOWFs+avj+asoeW8gOWQr+WQju+8jOS4gOasoeaAp++8jOi1i+S4gOasoeWAvOWPquiDveS6p+eUn+S4gOS4quaVjOS6uiovXHJcbiAgICBwcml2YXRlIGVuZW15QXBwZWFyOiBib29sZWFuO1xyXG4gICAgLyoq5oCq54mp5pS75Ye75a+56LGhLOS5n+aYr+S4iuS4quWQg+ezluaenOWvueixoSzkuIDmrKHmgKfvvIzotYvkuIDmrKHlgLzlj6rog73nlKjkuIDmrKEqL1xyXG4gICAgcHJpdmF0ZSBlbmVteXRhZ1JvbGU6IExheWEuU3ByaXRlO1xyXG4gICAgLyoq5pWM5Lq65Lqn55Sf55qE5Liq5pWw6K6h5pWw5ZmoKi9cclxuICAgIHByaXZhdGUgZW5lbXlDb3VudDogbnVtYmVyO1xyXG5cclxuICAgIC8qKuezluaenOS6p+eUn+eahOaXtumXtOmXtOmalCovXHJcbiAgICBwcml2YXRlIGNhbmR5X2ludGVydmFsOiBudW1iZXI7XHJcbiAgICAvKirlvZPliY3ml7bpl7TorrDlvZUqL1xyXG4gICAgcHJpdmF0ZSBjcmVhdFRpbWU6IG51bWJlcjtcclxuICAgIC8qKueUn+S6p+W8gOWFsyovXHJcbiAgICBwcml2YXRlIGNyZWF0T25PZmY6IGJvb2xlYW47XHJcbiAgICAvKirns5bmnpzliLDnorDliLDmhJ/lupToo4Xnva7ml7bvvIzlkI3lrZfoo4Xov5vov5nkuKrmlbDnu4QqL1xyXG4gICAgcHJpdmF0ZSBuYW1lQXJyOiBBcnJheTxzdHJpbmc+O1xyXG4gICAgLyoq55Sf5oiQ57OW5p6c5Liq5pWw6K6h5pWw5ZmoKi9cclxuICAgIHByaXZhdGUgY2FuZHlDb3VudDogbnVtYmVyO1xyXG5cclxuICAgIC8qKuS4u+inkjLmmK/lkKbmrbvkuqEqL1xyXG4gICAgcHJpdmF0ZSByb2xlZGllXzAyOiBib29sZWFuO1xyXG5cclxuICAgIC8qKuWkjea0u+aJgOmcgOWQg+ezluaenOeahOaVsOmHjyovXHJcbiAgICBwcml2YXRlIHJlc2N1ZU51bTogbnVtYmVyO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkgeyBzdXBlcigpOyB9XHJcblxyXG4gICAgb25FbmFibGUoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5pbml0U2VjbmUoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKirlnLrmma/liJ3lp4vljJYqL1xyXG4gICAgaW5pdFNlY25lKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuZW5lbXlBcHBlYXIgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmVuZW15dGFnUm9sZSA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5lbmVteUNvdW50ID0gMDtcclxuXHJcbiAgICAgICAgdGhpcy5jYW5keV9pbnRlcnZhbCA9IDUwMDtcclxuICAgICAgICB0aGlzLmNyZWF0VGltZSA9IERhdGUubm93KCk7XHJcbiAgICAgICAgdGhpcy5jcmVhdE9uT2ZmID0gdHJ1ZTtcclxuICAgICAgICBMYXlhLk1vdXNlTWFuYWdlci5tdWx0aVRvdWNoRW5hYmxlZCA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5uYW1lQXJyID0gW107XHJcbiAgICAgICAgdGhpcy5jYW5keUNvdW50ID0gMDtcclxuICAgICAgICB0aGlzLnNjb3JlTGFiZWwudGV4dCA9ICcwJztcclxuXHJcbiAgICAgICAgdGhpcy5yZXNjdWVOdW0gPSAwO1xyXG5cclxuICAgICAgICB0aGlzLnByb3RhZ29uaXN0SW5pdCgpO1xyXG4gICAgICAgIHRoaXMucm9lbFNwZWFrQm94cygpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKuS4u+inkuWIneWni+WMlu+8jOaIkOWvueWHuueOsOWcqOS4pOS4quWbuuWumuS9jee9ru+8jOavj+asoeWIneWni+WMluWQjueahOS9jee9ruWPr+iDveS8muiwg+aNoiovXHJcbiAgICBwcm90YWdvbmlzdEluaXQoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5yb2xlXzAxID0gdGhpcy5vd25lci5zY2VuZS5yb2xlXzAxO1xyXG4gICAgICAgIHRoaXMucm9sZV8wMiA9IHRoaXMub3duZXIuc2NlbmUucm9sZV8wMjtcclxuICAgICAgICBsZXQgcGljXzAxID0gKHRoaXMucm9sZV8wMS5nZXRDaGlsZEJ5TmFtZSgncGljJykgYXMgTGF5YS5TcHJpdGUpO1xyXG4gICAgICAgIGxldCBwaWNfMDIgPSAodGhpcy5yb2xlXzAyLmdldENoaWxkQnlOYW1lKCdwaWMnKSBhcyBMYXlhLlNwcml0ZSk7XHJcblxyXG4gICAgICAgIC8vIOmaj+acuuabtOaNouearuiCpFxyXG4gICAgICAgIGxldCBpbWFnZVVybF8wMTogc3RyaW5nID0gJ2NhbmR5L+e6ouiJsuahti5wbmcnO1xyXG4gICAgICAgIGxldCBpbWFnZVVybF8wMjogc3RyaW5nID0gJ2NhbmR5L+m7hOiJsuahti5wbmcnO1xyXG4gICAgICAgIGxldCByYW5kb21OdW0gPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAyKTtcclxuICAgICAgICBpZiAocmFuZG9tTnVtID09PSAwKSB7XHJcbiAgICAgICAgICAgIHBpY18wMS5sb2FkSW1hZ2UoaW1hZ2VVcmxfMDEpO1xyXG4gICAgICAgICAgICBwaWNfMDEubmFtZSA9ICdyZWRSb2xlJztcclxuICAgICAgICAgICAgcGljXzAyLmxvYWRJbWFnZShpbWFnZVVybF8wMik7XHJcbiAgICAgICAgICAgIHBpY18wMi5uYW1lID0gJ3llbGxvd1JvbGUnO1xyXG5cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBwaWNfMDIubG9hZEltYWdlKGltYWdlVXJsXzAxKTtcclxuICAgICAgICAgICAgcGljXzAyLm5hbWUgPSAncmVkUm9sZSc7XHJcbiAgICAgICAgICAgIHBpY18wMS5sb2FkSW1hZ2UoaW1hZ2VVcmxfMDIpO1xyXG4gICAgICAgICAgICBwaWNfMDEubmFtZSA9ICd5ZWxsb3dSb2xlJztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoq5Lik5Liq5Li76KeS5a+56K+d5qGG55qE5Yid5aeL5YyWKi9cclxuICAgIHJvZWxTcGVha0JveHMoKTogdm9pZCB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAyOyBpKyspIHtcclxuICAgICAgICAgICAgbGV0IHNwZWFrQm94ID0gTGF5YS5Qb29sLmdldEl0ZW1CeUNyZWF0ZUZ1bignc3BlYWtCb3gnLCB0aGlzLnNwZWFrQm94LmNyZWF0ZSwgdGhpcy5zcGVha0JveCkgYXMgTGF5YS5TcHJpdGU7XHJcbiAgICAgICAgICAgIHRoaXMuc3BlYWtCb3hQYXJlbnQuYWRkQ2hpbGQoc3BlYWtCb3gpO1xyXG4gICAgICAgICAgICBpZiAoaSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgc3BlYWtCb3gucG9zKHRoaXMucm9sZV8wMS54LCB0aGlzLnJvbGVfMDEueSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJvbGVfMDFzcGVhayA9IHNwZWFrQm94O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yb2xlXzAxc3BlYWsuYWxwaGEgPSAwO1xyXG4gICAgICAgICAgICAgICAgLy8g5Y+N5ZCR5ZKM5YGP56e7XHJcbiAgICAgICAgICAgICAgICBsZXQgcGljID0gdGhpcy5yb2xlXzAxc3BlYWsuZ2V0Q2hpbGRCeU5hbWUoJ3BpYycpIGFzIExheWEuU3ByaXRlO1xyXG4gICAgICAgICAgICAgICAgbGV0IGxhYmVsID0gdGhpcy5yb2xlXzAxc3BlYWsuZ2V0Q2hpbGRCeU5hbWUoJ2xhYmVsJykgYXMgTGF5YS5TcHJpdGU7XHJcbiAgICAgICAgICAgICAgICBwaWMuc2NhbGVYID0gLTE7XHJcbiAgICAgICAgICAgICAgICBsYWJlbC54ICs9IDMwO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgc3BlYWtCb3gucG9zKHRoaXMucm9sZV8wMi54LCB0aGlzLnJvbGVfMDIueSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJvbGVfMDJzcGVhayA9IHNwZWFrQm94O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yb2xlXzAyc3BlYWsuYWxwaGEgPSAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKuS6p+eUn+ezluaenCovXHJcbiAgICBwcm9kdWN0aW9uQ2FuZHkoKTogdm9pZCB7XHJcbiAgICAgICAgbGV0IGNhbmR5ID0gTGF5YS5Qb29sLmdldEl0ZW1CeUNyZWF0ZUZ1bignY2FuZHknLCB0aGlzLmNhbmR5LmNyZWF0ZSwgdGhpcy5jYW5keSkgYXMgTGF5YS5TcHJpdGU7XHJcbiAgICAgICAgdGhpcy5jYW5keUNvdW50Kys7XHJcblxyXG4gICAgICAgIC8vIOmaj+acuuWIm+W7uuS4gOenjeminOiJsuezluaenFxyXG4gICAgICAgIC8vIOezluaenOeahOWQjeensOe7k+aehOaYrzEx5L2N5a2X56ym5Liy5Yqg5LiK57Si5byV5YC877yM5pa55L6/5p+l5om+77yM5bm25LiU6L+Z5qC35L2/5LuW5Lus55qE5ZCN56ew5ZSv5LiAXHJcbiAgICAgICAgbGV0IHJhbmRvbU51bSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDQpO1xyXG4gICAgICAgIGxldCB1cmxfMDEgPSAnY2FuZHkv6buE6Imy57OW5p6cLnBuZyc7XHJcbiAgICAgICAgbGV0IHVybF8wMiA9ICdjYW5keS/nuqLoibLns5bmnpwucG5nJztcclxuICAgICAgICBsZXQgdXJsXzAzID0gJ2NhbmR5L+WKoOihgOezluaenC5wbmcnO1xyXG4gICAgICAgIGxldCB1cmxfMDQgPSAnY2FuZHkv6buR6Imy57OW5p6cLnBuZyc7XHJcbiAgICAgICAgc3dpdGNoIChyYW5kb21OdW0pIHtcclxuICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgY2FuZHkubmFtZSA9ICd5ZWxsb3dDYW5keScgKyB0aGlzLmNhbmR5Q291bnQ7XHJcbiAgICAgICAgICAgICAgICAoY2FuZHkuZ2V0Q2hpbGRCeU5hbWUoJ3BpYycpIGFzIExheWEuU3ByaXRlKS5sb2FkSW1hZ2UodXJsXzAxKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICBjYW5keS5uYW1lID0gJ3JlZENhbmR5X19fJyArIHRoaXMuY2FuZHlDb3VudDtcclxuICAgICAgICAgICAgICAgIChjYW5keS5nZXRDaGlsZEJ5TmFtZSgncGljJykgYXMgTGF5YS5TcHJpdGUpLmxvYWRJbWFnZSh1cmxfMDIpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgIGNhbmR5Lm5hbWUgPSAnYWRkQmxvb2RfX18nICsgdGhpcy5jYW5keUNvdW50O1xyXG4gICAgICAgICAgICAgICAgKGNhbmR5LmdldENoaWxkQnlOYW1lKCdwaWMnKSBhcyBMYXlhLlNwcml0ZSkubG9hZEltYWdlKHVybF8wMyk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgICAgICAgY2FuZHkubmFtZSA9ICdibGFja0NhbmR5XycgKyB0aGlzLmNhbmR5Q291bnQ7XHJcbiAgICAgICAgICAgICAgICAoY2FuZHkuZ2V0Q2hpbGRCeU5hbWUoJ3BpYycpIGFzIExheWEuU3ByaXRlKS5sb2FkSW1hZ2UodXJsXzA0KTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhbmR5LnBvcyhMYXlhLnN0YWdlLndpZHRoIC8gMiAtIGNhbmR5LndpZHRoIC8gMiwgLTEwMCk7XHJcbiAgICAgICAgdGhpcy5jYW5keVBhcmVudC5hZGRDaGlsZChjYW5keSk7XHJcbiAgICAgICAgY2FuZHkucm90YXRpb24gPSAwO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKuWHuueOsOaVjOS6uiovXHJcbiAgICBjYXJlYXRFbmVteSgpIHtcclxuICAgICAgICB0aGlzLmVuZW15Q291bnQrKztcclxuICAgICAgICBpZiAodGhpcy5lbmVteXRhZ1JvbGUgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgbGV0IGVuZW15ID0gTGF5YS5Qb29sLmdldEl0ZW1CeUNyZWF0ZUZ1bignZW5lbXknLCB0aGlzLmVuZW15LmNyZWF0ZSwgdGhpcy5lbmVteSkgYXMgTGF5YS5TcHJpdGU7XHJcbiAgICAgICAgICAgIHRoaXMuZW5lbXlQYXJlbnQuYWRkQ2hpbGQoZW5lbXkpO1xyXG4gICAgICAgICAgICAvLyDnjrDlh7rmnaXnmoTmmL7npLrlnKjliY3pnaJcclxuICAgICAgICAgICAgZW5lbXkuek9yZGVyID0gLXRoaXMuZW5lbXlDb3VudDtcclxuICAgICAgICAgICAgZW5lbXkucGl2b3RYID0gZW5lbXkud2lkdGggLyAyO1xyXG4gICAgICAgICAgICBlbmVteS5waXZvdFkgPSBlbmVteS5oZWlnaHQgLyAyO1xyXG5cclxuICAgICAgICAgICAgLy/pgJrov4fnm67moIfkvY3nva7liKTlrprlh7rlnLrkvY3nva5cclxuICAgICAgICAgICAgaWYgKHRoaXMuZW5lbXl0YWdSb2xlLnggPCBMYXlhLnN0YWdlLndpZHRoIC8gMiAmJiB0aGlzLmVuZW15dGFnUm9sZS54ID4gMCkge1xyXG4gICAgICAgICAgICAgICAgZW5lbXkucG9zKC01MCwgMzAwKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmVuZW15dGFnUm9sZS54ID49IExheWEuc3RhZ2Uud2lkdGggLyAyICYmIHRoaXMuZW5lbXl0YWdSb2xlLnggPCBMYXlhLnN0YWdlLndpZHRoKSB7XHJcbiAgICAgICAgICAgICAgICBlbmVteS5wb3MoODAwLCAzMDApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG9uVXBkYXRlKCk6IHZvaWQge1xyXG4gICAgICAgIC8vIOinkuiJsuatu+S6oeaDheWGtVxyXG4gICAgICAgIGxldCBsZW4gPSB0aGlzLnJvbGVQYXJlbnQuX2NoaWxkcmVuLmxlbmd0aDtcclxuICAgICAgICBpZiAobGVuID09PSAwKSB7XHJcbiAgICAgICAgICAgIC8vIOatu+S6oVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfSBlbHNlIGlmIChsZW4gPT09IDEpIHtcclxuICAgICAgICAgICAgbGV0IHNwZWFrXzAxID0gdGhpcy5yb2xlXzAxc3BlYWsuZ2V0Q2hpbGRCeU5hbWUoJ2xhYmVsJykgYXMgTGF5YS5MYWJlbDtcclxuICAgICAgICAgICAgbGV0IHNwZWFrXzAyID0gdGhpcy5yb2xlXzAyc3BlYWsuZ2V0Q2hpbGRCeU5hbWUoJ2xhYmVsJykgYXMgTGF5YS5MYWJlbDtcclxuICAgICAgICAgICAgLy8g5aSN5rS7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnJlc2N1ZU51bSA+PSA1KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlc2N1ZU51bSA9IDA7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yb2xlUGFyZW50Ll9jaGlsZHJlblswXS5uYW1lID09PSBcInJvbGVfMDFcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucm9sZVBhcmVudC5hZGRDaGlsZCh0aGlzLnJvbGVfMDIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucm9sZV8wMnNwZWFrLnggLT0gMTUwO1xyXG4gICAgICAgICAgICAgICAgICAgIHNwZWFrXzAyLnRleHQgPSAn6LCi6LCi5L2g5ZWK77yBJztcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yb2xlUGFyZW50LmFkZENoaWxkKHRoaXMucm9sZV8wMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgc3BlYWtfMDEudGV4dCA9ICfosKLosKLkvaDllYrvvIEnO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucm9sZV8wMXNwZWFrLnggKz0gMTUwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8g5b6F5aSN5rS75o+Q56S6XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yb2xlUGFyZW50Ll9jaGlsZHJlblswXS5uYW1lID09PSBcInJvbGVfMDFcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucm9sZV8wMnNwZWFrLmFscGhhID0gMTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJvbGVfMDJzcGVhay54ID0gdGhpcy5yb2xlXzAyLng7XHJcbiAgICAgICAgICAgICAgICAgICAgc3BlYWtfMDIudGV4dCA9ICfov57nu63lkIM15Liq57OW5p6c5LiN54qv6ZSZ55qE6K+d5oiR5bCx5aSN5rS75LqGJztcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yb2xlXzAxc3BlYWsuYWxwaGEgPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucm9sZV8wMXNwZWFrLnggPSB0aGlzLnJvbGVfMDEueDtcclxuICAgICAgICAgICAgICAgICAgICBzcGVha18wMS50ZXh0ID0gJ+i/nue7reWQgzXkuKrns5bmnpzkuI3niq/plJnnmoTor53miJHlsLHlpI3mtLvkuoYnO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIGlmIChsZW4gPT09IDIpIHtcclxuICAgICAgICAgICAgLy8g5L+d5oyB77yM5aSN5rS754q25oCB5Li656m6XHJcbiAgICAgICAgICAgIHRoaXMucmVzY3VlTnVtID09PSAwO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8g5Yib5bu657OW5p6cXHJcbiAgICAgICAgaWYgKHRoaXMuY3JlYXRPbk9mZikge1xyXG4gICAgICAgICAgICBsZXQgbm93VGltZSA9IERhdGUubm93KCk7XHJcbiAgICAgICAgICAgIGlmIChub3dUaW1lIC0gdGhpcy5jcmVhdFRpbWUgPiB0aGlzLmNhbmR5X2ludGVydmFsKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNyZWF0VGltZSA9IG5vd1RpbWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnByb2R1Y3Rpb25DYW5keSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyDliJvlu7rmlYzkurpcclxuICAgICAgICBpZiAodGhpcy5lbmVteUFwcGVhcikge1xyXG4gICAgICAgICAgICB0aGlzLmNhcmVhdEVuZW15KCk7XHJcbiAgICAgICAgICAgIHRoaXMuZW5lbXlBcHBlYXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5lbmVteXRhZ1JvbGUgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBvbkRpc2FibGUoKTogdm9pZCB7XHJcblxyXG4gICAgfVxyXG59IiwiaW1wb3J0IE1haW5TY2VuZUNvbnRyb2wgZnJvbSBcIi4vTWFpblNjZW5lQ29udHJvbFwiO1xyXG5pbXBvcnQgQ2FuZHkgZnJvbSBcIi4vQ2FuZHlcIjtcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUm9sZSBleHRlbmRzIExheWEuU2NyaXB0IHtcclxuICAgIC8qKuiHquW3sSovXHJcbiAgICBwcml2YXRlIHNlbGY6IExheWEuU3ByaXRlO1xyXG4gICAgLyoq5omA5bGe5Zy65pmvKi9cclxuICAgIHByaXZhdGUgc2VsZlNjZW5lOiBMYXlhLlNjZW5lO1xyXG4gICAgLyoq5Zy65pmv6ISa5pys57uE5Lu2Ki9cclxuICAgIHByaXZhdGUgbWFpblNjZW5lQ29udHJvbDtcclxuICAgIC8qKuezluaenOWIsOeisOWIsOaEn+W6lOijhee9ruaXtu+8jOWQjeWtl+ijhei/m+i/meS4quaVsOe7hCovXHJcbiAgICBwcml2YXRlIG5hbWVBcnI6IEFycmF5PHN0cmluZz47XHJcbiAgICAvKirns5bmnpzniLboioLngrkqL1xyXG4gICAgcHJpdmF0ZSBjYW5keVBhcmVudDogTGF5YS5TcHJpdGU7XHJcbiAgICAvKiroh6rlt7HnmoTooYDph48qL1xyXG4gICAgcHJpdmF0ZSBzZWxmSGVhbHRoOiBMYXlhLlByb2dyZXNzQmFyO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkgeyBzdXBlcigpOyB9XHJcblxyXG4gICAgb25FbmFibGUoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5pbml0UHJvcGVydHkoKTtcclxuICAgIH1cclxuICAgIC8qKuWIneWni+WMliovXHJcbiAgICBpbml0UHJvcGVydHkoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5zZWxmID0gdGhpcy5vd25lciBhcyBMYXlhLlNwcml0ZTtcclxuICAgICAgICB0aGlzLnNlbGZTY2VuZSA9IHRoaXMuc2VsZi5zY2VuZSBhcyBMYXlhLlNjZW5lO1xyXG4gICAgICAgIHRoaXMubWFpblNjZW5lQ29udHJvbCA9IHRoaXMuc2VsZlNjZW5lLmdldENvbXBvbmVudChNYWluU2NlbmVDb250cm9sKTsvL+WcuuaZr+iEmuacrOe7hOS7tlxyXG4gICAgICAgIHRoaXMubmFtZUFyciA9IHRoaXMubWFpblNjZW5lQ29udHJvbC5uYW1lQXJyO1xyXG4gICAgICAgIHRoaXMuY2FuZHlQYXJlbnQgPSB0aGlzLm1haW5TY2VuZUNvbnRyb2wuY2FuZHlQYXJlbnQ7XHJcbiAgICAgICAgdGhpcy5zZWxmSGVhbHRoID0gdGhpcy5zZWxmLmdldENoaWxkQnlOYW1lKCdoZWFsdGgnKSBhcyBMYXlhLlByb2dyZXNzQmFyO1xyXG4gICAgICAgIHRoaXMuc2VsZkhlYWx0aC52YWx1ZSA9IDE7XHJcbiAgICAgICAgdGhpcy5idWNrZXRDbGluaygpO1xyXG4gICAgfVxyXG4gICAgLyoq5Li76KeS55qE54K55Ye75LqL5Lu2Ki9cclxuICAgIGJ1Y2tldENsaW5rKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuc2VsZi5vbihMYXlhLkV2ZW50Lk1PVVNFX0RPV04sIHRoaXMsIHRoaXMuZG93bik7XHJcbiAgICAgICAgdGhpcy5zZWxmLm9uKExheWEuRXZlbnQuTU9VU0VfTU9WRSwgdGhpcywgdGhpcy5tb3ZlKTtcclxuICAgICAgICB0aGlzLnNlbGYub24oTGF5YS5FdmVudC5NT1VTRV9VUCwgdGhpcywgdGhpcy51cCk7XHJcbiAgICAgICAgdGhpcy5zZWxmLm9uKExheWEuRXZlbnQuTU9VU0VfT1VULCB0aGlzLCB0aGlzLm91dCk7XHJcbiAgICB9XHJcbiAgICAvKirmjInkuIss57uZ5LqI55uu5qCH5L2N572u77yM57OW5p6c6LWw5ZCR55uu5qCH5L2N572uO1xyXG4gICAgICog5bm25LiU5YiG5pWw5aKe5YqgKi9cclxuICAgIGRvd24oZXZlbnQpOiB2b2lkIHtcclxuICAgICAgICAvLyDnm67liY3ngrnlh7vkuLvop5LnmoTml7blgJnlhbPpl63lr7nor53moYbvvIzku6XlhY3mibDkubHop4bnur8s5L2G5piv5Y+q5YWz6Zet6Ieq5bex55qE5a+56K+d5qGG44CCXHJcbiAgICAgICAgaWYgKHRoaXMuc2VsZi5uYW1lID09PSAncm9sZV8wMScpIHtcclxuICAgICAgICAgICAgdGhpcy5tYWluU2NlbmVDb250cm9sLnJvbGVfMDFzcGVhay5hbHBoYSA9IDA7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5tYWluU2NlbmVDb250cm9sLnJvbGVfMDJzcGVhay5hbHBoYSA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc2VsZi5zY2FsZSgwLjksIDAuOSk7XHJcbiAgICAgICAgLy8g5aaC5p6c5oSf5bqU5Yy65pyJ57OW5p6cLOaJvuWIsOesrOS4gOS4qui/m+WFpeaEn+W6lOWMuueahOezluaenOeahOWUr+S4gOWQjeensFxyXG4gICAgICAgIGlmICh0aGlzLm5hbWVBcnJbMF0pIHtcclxuICAgICAgICAgICAgbGV0IGNhbmR5TmFtZSA9IHRoaXMubmFtZUFyclt0aGlzLm5hbWVBcnIubGVuZ3RoIC0gMV07XHJcbiAgICAgICAgICAgIGxldCBjYW5keSA9IHRoaXMuY2FuZHlQYXJlbnQuZ2V0Q2hpbGRCeU5hbWUoY2FuZHlOYW1lKTtcclxuICAgICAgICAgICAgaWYgKCFjYW5keSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxldCBDYW5keVNjcmlwdCA9IGNhbmR5LmdldENvbXBvbmVudChDYW5keSk7XHJcbiAgICAgICAgICAgIC8vIOe7meS6iOebruagh+WcsOeCuSzpnZ7nqbror7TmmI7ngrnlh7vov4fkuoYs6K6p5Zy65pmv5ZKM6L+Z5Liq57OW5p6c6YO955+l6YGTXHJcbiAgICAgICAgICAgIGlmIChDYW5keVNjcmlwdC50YXJnZXRSb2xlID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBDYW5keVNjcmlwdC50YXJnZXRSb2xlID0gdGhpcy5zZWxmO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ+ezluaenOS4jeWcqOaEn+W6lOWMuu+8jOaIluiAheeCuemUmeS6hicpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKuenu+WKqCovXHJcbiAgICBtb3ZlKGV2ZW50KTogdm9pZCB7XHJcbiAgICB9XHJcbiAgICAvKirmiqzotbcqL1xyXG4gICAgdXAoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5zZWxmLnNjYWxlKDEsIDEpO1xyXG4gICAgfVxyXG4gICAgLyoq5Ye65bGP5bmVKi9cclxuICAgIG91dCgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnNlbGYuc2NhbGUoMSwgMSk7XHJcbiAgICB9XHJcblxyXG4gICAgb25VcGRhdGUoKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMuc2VsZkhlYWx0aC52YWx1ZSA8PSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2VsZi5yZW1vdmVTZWxmKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgb25EaXNhYmxlKCk6IHZvaWQge1xyXG4gICAgfVxyXG59Il19
